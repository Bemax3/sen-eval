import{Q as S,T as X,h as re,b as I,r as M,w as P,o as i,d as b,e as f,f as l,u as s,Z as oe,a as t,c as a,g as w,i as A,n as k,t as c,p as de,F as v,j as Y,k as _,O as T,q as ce,s as ue,m as _e}from"./app-d9ff9300.js";import{_ as me}from"./AuthenticatedLayout-a01591ec.js";import{_ as ge}from"./Breadcrumbs-e961e0bb.js";import{_ as fe,a as pe}from"./Title-c69c50cc.js";import{_ as R}from"./InputLabel-dd716769.js";import{_ as Z}from"./SubmitButton-a0a39750.js";import{a as N,c as H,m as z}from"./helper-6aff9754.js";import{_ as ve}from"./TextArea-987e933b.js";import{_ as he}from"./FormIndications-c46ee7c8.js";import{_ as D,a as ye,b as ke}from"./ValidationWarning-bcca042f.js";import{b as B}from"./EmptyState-975ee3d7.js";import{_ as K}from"./InputError-743a703b.js";import{_ as xe}from"./TextInput-2bfcd3a9.js";import{r as W}from"./ChevronUpDownIcon-fd5da073.js";import{r as $}from"./CheckIcon-52f9444d.js";import{r as L}from"./PencilSquareIcon-0c7d81fa.js";import{r as be}from"./TrashIcon-410da3e1.js";import{N as we,H as Ce,U as $e,B as je}from"./listbox-771f68ef.js";import{Q as Ve,G as Se,X as Me,Y as Ye,J as Ne}from"./combobox-9917f101.js";import"./logo1637145113-c7398df9.js";import"./SimpleTable-8d8947ac.js";import"./ExclamationTriangleIcon-e6de205b.js";import"./use-controllable-52aedff9.js";const De={class:"px-4 sm:px-6 lg:px-8"},Ee={role:"list"},Oe={class:"px-4 py-4 sm:px-0"},qe={key:0,class:"pr-4 py-5 sm:pr-6 bg-white mb-4 px-5 rounded-lg shadow"},Ae=["onSubmit"],Te={class:"relative"},He={key:0,class:"block truncate"},ze={key:1,class:"block truncate"},Be={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},Le={key:0,class:"w-full sm:max-w-xl mt-4 sm:mt-0"},Ue={class:"flex flex-col space-y-2"},Fe={key:1,class:"divide-y divide-gray-100",role:"list"},Ge={class:"min-w-0"},Qe={class:"flex items-start gap-x-3"},Je={class:"text-base font-bold leading-6 text-gray-900"},Xe={key:0,class:"text-red-700 bg-red-50 ring-red-600/20 rounded-md whitespace-nowrap mt-0.5 px-1.5 py-0.5 text-xs font-medium ring-1 ring-inset"},Ie={class:"mt-1 flex items-center gap-x-2 text-base leading-5 text-gray-500"},Pe={class:"whitespace-break-spaces"},Re={key:0,class:"mt-1 flex items-center gap-x-2 text-sm leading-5 text-gray-500"},Ze={class:"whitespace-break-spaces"},Ke={class:"flex flex-none items-center gap-x-4"},We={class:"flex items-center justify-center space-x-4"},et=["value"],tt={class:"ml-0.5 font-bold"},st=["onClick"],it=["onClick"],at=["onClick"],lt={class:"px-4 py-4 sm:px-0"},nt={key:0,class:"divide-y divide-gray-100",role:"list"},rt={class:"min-w-0"},ot={class:"flex items-start gap-x-3"},dt={class:"text-base font-bold leading-6 text-gray-900"},ct={key:0,class:"text-red-700 bg-red-50 ring-red-600/20 rounded-md whitespace-nowrap mt-0.5 px-1.5 py-0.5 text-xs font-medium ring-1 ring-inset"},ut={class:"mt-1 flex items-center gap-x-2 text-base leading-5 text-gray-500"},_t={class:"whitespace-break-spaces"},mt={key:0,class:"mt-1 flex items-center gap-x-2 text-sm leading-5 text-gray-500"},gt={class:"whitespace-break-spaces"},ft={class:"flex flex-none items-center gap-x-4"},pt={class:"flex items-center justify-center space-x-4"},vt=["value"],ht={class:"ml-0.5 font-bold"},yt=["onClick"],kt=["onClick"],xt={class:"px-4 py-4 sm:px-0"},bt={key:0,class:"divide-y divide-gray-100",role:"list"},wt={class:"min-w-0"},Ct={class:"flex items-start gap-x-3"},$t={class:"text-base font-bold leading-6 text-gray-900"},jt={class:"text-white bg-gray-500 ring-gray-600/20 rounded-md whitespace-nowrap mt-0.5 px-1.5 py-0.5 text-xs font-medium ring-1 ring-inset"},Vt={key:0,class:"text-red-700 bg-red-50 ring-red-600/20 rounded-md whitespace-nowrap mt-0.5 px-1.5 py-0.5 text-xs font-medium ring-1 ring-inset"},St={class:"mt-1 flex items-center gap-x-2 text-base leading-5 text-gray-500"},Mt={class:"whitespace-break-spaces"},Yt={key:0,class:"mt-1 flex items-center gap-x-2 text-sm leading-5 text-gray-500"},Nt={class:"whitespace-break-spaces"},Dt={class:"flex flex-none items-center gap-x-4"},Et={class:"flex items-center justify-center space-x-4"},Ot=["value"],qt={class:"ml-0.5 font-bold"},At=["onClick"],Tt=["onClick"],Ht={class:"px-4 py-4 sm:px-0"},zt={key:0},Bt={class:"px-4 py-4 sm:px-0"},Lt={class:"mt-8 bg-white shadow sm:rounded-lg"},Ut=["onSubmit"],Ft={class:"grid grid-cols-1 gap-2 sm:grid-cols-2"},Gt={class:"px-4 py-5 sm:p-6"},Qt=t("h3",{class:"text-base font-semibold leading-6 text-gray-900"},"Commentaire",-1),Jt=t("div",{class:"mt-2 max-w-xl text-sm text-gray-500"},[t("p",null,"Ajouter un commentaire. ")],-1),Xt={class:"mt-5 sm:flex sm:items-center"},It={class:"w-full sm:max-w-xl"},Pt={class:"col-span-full"},Rt={class:"mt-2"},Zt={class:"px-4 py-5 sm:p-6"},Kt=t("h3",{class:"text-base font-semibold leading-6 text-gray-900"},"Transférer",-1),Wt=t("div",{class:"mt-2 max-w-xl text-sm text-gray-500"},[t("p",null,"Transférer l'évaluation au supérieur hiérarchique. ")],-1),es={class:"mt-6 w-full sm:max-w-xl"},ts={class:"relative"},ss={class:"flex"},is={class:"mt-3 flex items-center"},as=t("label",{class:"ml-3 block text-sm leading-6 text-gray-900",for:"remember-n1"},"Sauvegarder en tant que mon N + 1",-1),ls={class:"flex items-center justify-between gap-x-6 border-t border-gray-900/10 px-4 py-4 sm:px-8"},ns=["disabled"],Ys={__name:"AgentRatingSkills",props:{rating:{type:Object},marking:{type:Object},agent:{type:Object},specific_skill_types:{},specific_skills:{type:Object},skills:{type:Object},goals:{type:Object},n1:{type:Object},others:{},validators:{}},setup(r){var G,Q,J;const u=r,ee=S().props.auth.user,te=[{name:"Mes Agents",href:route("agents.index"),current:!1},{name:"Évaluations",href:route("agent-ratings.index",{agent:u.agent.user_id}),current:!1}],p=X({rating_id:u.rating.rating_id,rating_skill_name:"",phase_skill_id:u.specific_skill_types[0]?u.specific_skill_types[0].pivot.phase_skill_id:null}),U=re({keyword:"",fields:["user_matricule","user_display_name"]}),h=I(()=>u.validators.filter(n=>n.validator_id===ee.user_id)[0]),m=X({remember:!1,validator_id:(G=h.value)==null?void 0:G.validator_id,rating_validator_comment:((Q=h.value)==null?void 0:Q.rating_validator_comment)||"",new_validator:((J=u.n1)==null?void 0:J.user_id)||u.others[0].user_id}),O=u.others,E=M(""),j=M(O),y=M([]),V=M([]),q=M(!1),se=I(()=>{let n=0;return u.goals.forEach(d=>n+=d.goal_mark),n}),ie=()=>{m.put(route("validations.update",{validation:h.value.rating_validator_id}),{onError:n=>{S().props.flash.notify={type:"error",message:n.rating_validator_comment}},preserveScroll:!0})},ae=()=>_e.post(route("users.search"),U),x=()=>{y.value=[],u.skills.forEach(n=>y.value.push({id:n.rating_skill_id,edit:n.rating_skill_mark<0})),u.goals.forEach(n=>y.value.push({id:"goal_"+n.goal_id,edit:n.goal_mark<0})),u.specific_skills.forEach(n=>y.value.push({id:n.rating_skill_id,edit:n.rating_skill_mark<0}))},C=n=>y.value.filter(d=>d.id===n)[0].edit,F=(n,d)=>{const e=V.value[n];y.value.find(o=>o.id===n).edit=!1,T.put(route("rating-skills.update",{rating_skill:n}),{rating_skill_mark:e.value,rating_skill_marking:d},{onSuccess:()=>x(),onError:o=>{x(),console.log(o),S().props.flash.notify={type:"error",message:o.rating_skill_mark}},preserveScroll:!0})},le=(n,d)=>{const e=V.value["goal_"+n];y.value.find(o=>o.id==="goal_"+n).edit=!1,T.put(route("goals.update-mark",{goal:n}),{goal_mark:e.value,goal_marking:d,rating_id:u.rating.rating_id},{onSuccess:()=>x(),onError:o=>{x(),S().props.flash.notify={type:"error",message:o.goal_mark}},preserveScroll:!0})},ne=()=>{p.post(route("rating-skills.store"),{onError:n=>{x(),S().props.flash.notify={type:"error",message:n.phase_skill_id}},onSuccess:()=>x(),preserveScroll:!0})};return x(),P(()=>u.specific_skills,function(){x()},{immediate:!0}),P(()=>E.value,function(n){let d=n===""?O:O.filter(e=>e.user_matricule.toLowerCase().includes(E.value.toLowerCase())||e.user_display_name.toLowerCase().includes(E.value.toLowerCase()));d.length>0?j.value=d:n.length>=3&&ae().then(e=>j.value=e.data)}),(n,d)=>(i(),b(me,null,{default:f(()=>[l(s(oe),{title:"Évaluation"}),t("div",De,[l(ge,{pages:te}),l(fe,{agent:r.agent,rating:r.rating},null,8,["agent","rating"]),l(pe,{agent_id:u.agent.user_id,rating_id:u.rating.rating_id},null,8,["agent_id","rating_id"]),t("div",Ee,[t("div",Oe,[r.rating.rating_is_validated?_("",!0):(i(),a("div",qe,[l(R,null,{default:f(()=>[w("Ajouter une compétence spécifique à évaluer")]),_:1}),t("form",{class:"mt-5 sm:flex sm:items-center gap-x-6",onSubmit:A(ne,["prevent"])},[t("div",{class:k([s(p).errors.rating_skill_name?"mb-4":"","w-full sm:max-w-xl"])},[l(s(je),{modelValue:s(p).phase_skill_id,"onUpdate:modelValue":d[0]||(d[0]=e=>s(p).phase_skill_id=e),as:"div"},{default:f(()=>[t("div",Te,[l(s(we),{class:"relative w-full cursor-default rounded-md bg-white py-1.5 pl-3 pr-10 text-left text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:outline-none focus:ring-2 focus:ring-cyan-700 sm:text-sm sm:leading-6"},{default:f(()=>[s(N)(r.specific_skill_types)?(i(),a("span",He,c(r.specific_skill_types.filter(e=>e.pivot.phase_skill_id===s(p).phase_skill_id)[0].skill_name),1)):(i(),a("span",ze,"Aucune compétences disponible pour l'instant.")),t("span",Be,[l(s(W),{"aria-hidden":"true",class:"h-5 w-5 text-gray-400"})])]),_:1}),l(de,{"leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:f(()=>[s(N)(r.specific_skill_types)?(i(),b(s(Ce),{key:0,class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:f(()=>[(i(!0),a(v,null,Y(r.specific_skill_types,e=>(i(),b(s($e),{key:e.skill_id,value:e.pivot.phase_skill_id,as:"template"},{default:f(({active:o,selected:g})=>[t("li",{class:k([o?"bg-cyan-600  text-white":"text-gray-900","relative cursor-default select-none py-2 pl-3 pr-9"])},[t("span",{class:k([g?"font-semibold":"font-normal","block truncate"])},c(e.skill_name),3),g?(i(),a("span",{key:0,class:k([o?"text-white":"text-cyan-600","absolute inset-y-0 right-0 flex items-center pr-4"])},[l(s($),{"aria-hidden":"true",class:"h-5 w-5"})],2)):_("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})):_("",!0)]),_:1})])]),_:1},8,["modelValue"])],2),r.specific_skill_types.filter(e=>e.pivot.phase_skill_id===s(p).phase_skill_id)[0].skill_id===1?(i(),a("div",Le,[l(xe,{modelValue:s(p).rating_skill_name,"onUpdate:modelValue":d[1]||(d[1]=e=>s(p).rating_skill_name=e),invalid:s(p).errors.rating_skill_name!==void 0,placeholder:"p. ex. Bonne Gouvernance des SI"},null,8,["modelValue","invalid"]),t("div",Ue,[l(K,{message:s(p).errors.rating_skill_name},null,8,["message"])])])):_("",!0),l(Z,{class:k([s(p).errors.rating_skill_name?"mb-4":"","mt-2 sm:ml-3 sm:mt-0 sm:w-auto"]),disabled:r.rating.rating_is_validated,processing:s(p).processing,type:"submit"},{default:f(()=>[w("Ajouter ")]),_:1},8,["class","disabled","processing"])],40,Ae)])),l(D,{mark:r.rating.specific_skills_sum_rating_skill_mark,marking:r.marking.specific,title:"Compétences Spécifiques (Savoir, Savoir Faire, Savoir Être)"},null,8,["mark","marking"]),s(N)(r.specific_skills)?(i(),a("ul",Fe,[(i(!0),a(v,null,Y(r.specific_skills,e=>(i(),a("li",{key:e.rating_skill_id,class:"flex items-center justify-between gap-x-6 py-5"},[t("div",Ge,[t("div",Qe,[t("p",Je,c(e.rating_skill_name||e.phase_skill.skill.skill_name),1),e.rating_skill_mark_is_claimed?(i(),a("p",Xe," Contesté")):_("",!0)]),t("div",Ie,[t("p",Pe,c(e.phase_skill.skill.skill_desc),1)]),e.rating_skill_mark>0?(i(),a("div",Re,[t("p",Ze,"Note attribué le "+c(s(H)(s(z)(e.updated_at).format("DD MMMM YYYY à HH:mm"))),1)])):_("",!0)]),t("div",Ke,[t("div",We,[C(e.rating_skill_id)?(i(),a("input",{key:1,ref_for:!0,ref:o=>{V.value[e.rating_skill_id]=o},value:e.rating_skill_mark,class:"w-12 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-cyan-700 sm:text-sm sm:leading-6",type:"text"},null,8,et)):(i(),a(v,{key:0},[w(c(e.rating_skill_mark),1)],64)),t("p",tt," / "+c(e.phase_skill.phase_skill_marking),1),!r.rating.rating_is_validated&&!h.value.has_validated?(i(),a(v,{key:2},[C(e.rating_skill_id)?(i(),a("button",{key:1,class:"rounded-full bg-cyan-600 p-2 text-white shadow-sm hover:bg-cyan-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-cyan-600",type:"button",onClick:o=>F(e.rating_skill_id,e.phase_skill.phase_skill_marking)},[l(s($),{"aria-hidden":"true",class:"h-5 w-5"})],8,it)):(i(),a("button",{key:0,class:"rounded-full bg-cyan-600 p-2 text-white shadow-sm hover:bg-cyan-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-cyan-600",type:"button",onClick:o=>y.value.find(g=>g.id===e.rating_skill_id).edit=!0},[l(s(L),{"aria-hidden":"true",class:"h-5 w-5"})],8,st)),t("button",{class:"rounded-full bg-red-600 p-2 text-white shadow-sm hover:bg-red-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-600",type:"button",onClick:o=>s(T).delete(n.route("rating-skills.destroy",{rating_skill:e.rating_skill_id}))},[l(s(be),{"aria-hidden":"true",class:"h-5 w-5"})],8,at)],64)):_("",!0)])])]))),128))])):(i(),b(B,{key:2,message:"Ajouter des compétences à évaluer en utilisant la liste déroulante plus haut.",title:"Vous n'avez pas ajouter de compétences spécifiques à évaluer."}))]),t("div",lt,[l(D,{mark:r.rating.general_skills_sum_rating_skill_mark,marking:r.marking.general,title:"Compétences Générales"},null,8,["mark","marking"]),s(N)(r.skills)?(i(),a("ul",nt,[(i(!0),a(v,null,Y(r.skills,e=>(i(),a("li",{key:e.rating_skill_id,class:"flex items-center justify-between gap-x-6 py-5"},[t("div",rt,[t("div",ot,[t("p",dt,c(e.phase_skill.skill.skill_name),1),e.rating_skill_mark_is_claimed?(i(),a("p",ct," Contesté")):_("",!0)]),t("div",ut,[t("p",_t,c(e.phase_skill.skill.skill_desc),1)]),e.rating_skill_mark>0?(i(),a("div",mt,[t("p",gt,"Note attribué le "+c(s(H)(s(z)(e.updated_at).format("DD MMMM YYYY à HH:mm"))),1)])):_("",!0)]),t("div",ft,[t("div",pt,[C(e.rating_skill_id)?(i(),a("input",{key:1,ref_for:!0,ref:o=>{V.value[e.rating_skill_id]=o},value:e.rating_skill_mark,class:"w-12 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-cyan-700 sm:text-sm sm:leading-6",type:"text"},null,8,vt)):(i(),a(v,{key:0},[w(c(e.rating_skill_mark),1)],64)),t("p",ht," / "+c(e.phase_skill.phase_skill_marking),1),!r.rating.rating_is_validated&&!h.value.has_validated?(i(),a(v,{key:2},[C(e.rating_skill_id)?(i(),a("button",{key:1,class:"rounded-full bg-cyan-600 p-2 text-white shadow-sm hover:bg-cyan-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-cyan-600",type:"button",onClick:o=>F(e.rating_skill_id,e.phase_skill.phase_skill_marking)},[l(s($),{"aria-hidden":"true",class:"h-5 w-5"})],8,kt)):(i(),a("button",{key:0,class:"rounded-full bg-cyan-600 p-2 text-white shadow-sm hover:bg-cyan-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-cyan-600",type:"button",onClick:o=>y.value.find(g=>g.id===e.rating_skill_id).edit=!0},[l(s(L),{"aria-hidden":"true",class:"h-5 w-5"})],8,yt))],64)):_("",!0)])])]))),128))])):_("",!0)]),t("div",xt,[l(D,{mark:se.value,marking:r.marking.perf,title:"Performances"},null,8,["mark","marking"]),s(N)(r.goals)?(i(),a("ul",bt,[(i(!0),a(v,null,Y(r.goals,e=>(i(),a("li",{key:e.goal_id,class:"flex items-center justify-between gap-x-6 py-5"},[t("div",wt,[t("div",Ct,[t("p",$t,c(e.goal_name),1),t("p",jt,c(e.period.evaluation_period_name),1),e.goal_mark_is_claimed?(i(),a("p",Vt," Contesté ")):_("",!0)]),t("div",St,[t("p",Mt,"Taux de réalisation : "+c(e.goal_rate)+" % / Valeur Cible : "+c(e.goal_expected_result)+" %",1)]),e.goal_mark>0?(i(),a("div",Yt,[t("p",Nt,"Note attribué le "+c(s(H)(s(z)(e.updated_at).format("DD MMMM YYYY à HH:mm"))),1)])):_("",!0)]),t("div",Dt,[t("div",Et,[C("goal_"+e.goal_id)?(i(),a("input",{key:1,ref_for:!0,ref:o=>{V.value["goal_"+e.goal_id]=o},value:e.goal_mark,class:"w-12 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-cyan-700 sm:text-sm sm:leading-6",type:"text"},null,8,Ot)):(i(),a(v,{key:0},[w(c(e.goal_mark),1)],64)),t("p",qt," / "+c(e.goal_marking),1),!r.rating.rating_is_validated&&!h.value.has_validated?(i(),a(v,{key:2},[C("goal_"+e.goal_id)?(i(),a("button",{key:1,class:"rounded-full bg-cyan-600 p-2 text-white shadow-sm hover:bg-cyan-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-cyan-600",type:"button",onClick:o=>le(e.goal_id,e.goal_marking)},[l(s($),{"aria-hidden":"true",class:"h-5 w-5"})],8,Tt)):(i(),a("button",{key:0,class:"rounded-full bg-cyan-600 p-2 text-white shadow-sm hover:bg-cyan-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-cyan-600",type:"button",onClick:o=>y.value.find(g=>g.id==="goal_"+e.goal_id).edit=!0},[l(s(L),{"aria-hidden":"true",class:"h-5 w-5"})],8,At))],64)):_("",!0)])])]))),128))])):(i(),b(B,{key:1,link:n.route("agent-goals.create",{agent:r.agent.user_id}),action:"Nouvel Objectif",message:"Les objectifs que vous aurez crée pour lui s'afficherons automatiquement ici.",title:"Vous n'avez pas donner d'objectif à cette agent."},null,8,["link"]))])]),t("div",Ht,[l(D,{title:"Commentaires"}),r.validators?(i(),a("div",zt,[l(ye,{rating:r.rating,validators:r.validators},null,8,["rating","validators"])])):(i(),b(B,{key:1,message:"Les commentaires des validateurs et de l'évalué s'afficheront ici.",title:"Aucun commentaires pour l'instant. "}))]),t("div",Bt,[l(D,{title:"Validation"}),t("div",Lt,[t("form",{onSubmit:A(ie,["prevent"])},[t("div",Ft,[t("div",Gt,[Qt,Jt,t("div",Xt,[t("div",It,[t("div",Pt,[l(R,{for:"start_date"}),t("div",Rt,[l(ve,{modelValue:s(m).rating_validator_comment,"onUpdate:modelValue":d[2]||(d[2]=e=>s(m).rating_validator_comment=e),invalid:s(m).errors.rating_validator_comment!==void 0},null,8,["modelValue","invalid"])]),l(K,{message:s(m).errors.rating_validator_comment},null,8,["message"])])])])]),t("div",Zt,[Kt,Wt,t("div",es,[l(s(Ne),{modelValue:s(m).new_validator,"onUpdate:modelValue":d[4]||(d[4]=e=>s(m).new_validator=e)},{default:f(()=>[t("div",ts,[l(s(Ve),{class:k([s(m).errors.new_validator!==void 0?"focus:ring-red-600 ring-red-600":"","w-full rounded-md border-0 bg-white py-1.5 pl-3 pr-12 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-cyan-700 sm:text-sm sm:leading-6"]),"display-value":e=>{let o=j.value.filter(g=>g.user_id===e)[0];return o?o.user_matricule+" "+o.user_display_name:s(m).new_validator.user_matricule+" "+s(m).new_validator.user_display_name},placeholder:"Trouver votre N + 1",onChange:d[3]||(d[3]=e=>{U.keyword=E.value=e.target.value})},null,8,["class","display-value"]),l(s(Se),{class:"absolute inset-y-0 right-0 flex items-center rounded-r-md px-2 focus:outline-none"},{default:f(()=>[l(s(W),{"aria-hidden":"true",class:"h-5 w-5 text-gray-400"})]),_:1}),j.value.length>0?(i(),b(s(Me),{key:0,class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:f(()=>[(i(!0),a(v,null,Y(j.value,e=>(i(),b(s(Ye),{key:e.user_id,value:e.user_id,as:"template"},{default:f(({active:o,selected:g})=>[t("li",{class:k(["relative cursor-default select-none py-2 pl-3 pr-9",o?"bg-cyan-600  text-white":"text-gray-900"])},[t("div",ss,[t("span",{class:k(["truncate",g&&"font-semibold"])},c((e==null?void 0:e.user_matricule)+" "+(e==null?void 0:e.user_display_name)),3)]),g?(i(),a("span",{key:0,class:k(["absolute inset-y-0 right-0 flex items-center pr-4",o?"text-white":"text-cyan-600"])},[l(s($),{"aria-hidden":"true",class:"h-5 w-5"})],2)):_("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})):_("",!0)])]),_:1},8,["modelValue"])]),t("div",is,[ce(t("input",{id:"remember-n1","onUpdate:modelValue":d[5]||(d[5]=e=>s(m).remember=e),class:"h-4 w-4 rounded border-gray-300 text-cyan-600 focus:ring-cyan-700",name:"remember-n1",type:"checkbox"},null,512),[[ue,s(m).remember]]),as])])]),t("div",ls,[l(he),t("div",null,[l(Z,{disabled:r.rating.rating_is_validated||h.value.has_validated,processing:s(m).processing,class:"mt-3 sm:ml-3 sm:mt-0 sm:w-auto",type:"submit"},{default:f(()=>[w(" Transmettre ")]),_:1},8,["disabled","processing"]),t("button",{class:k([r.rating.rating_is_validated||h.value.has_validated?"bg-gray-600":"bg-cyan-600  focus-visible:outline-cyan-600 hover:bg-cyan-700    ","inline-flex gap-x-1.5 disabled:opacity-70 rounded-md px-3 py-2 text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 mt-3 sm:ml-3 sm:mt-0 sm:w-auto"]),disabled:r.rating.rating_is_validated||h.value.has_validated,onClick:d[6]||(d[6]=A(e=>q.value=!0,["prevent"]))},[w("Valider "),l(s($),{class:"text-white -mr-0.5 h-5 w-5"})],10,ns)])])],40,Ut)])])]),l(ke,{opened:q.value,validation:h.value,onCloseModal:d[7]||(d[7]=e=>q.value=!1)},null,8,["opened","validation"])]),_:1}))}};export{Ys as default};
