import{_ as k}from"./AuthenticatedLayout-a2654eb8.js";import{b as w,r as V,o as n,d as _,e as t,f as s,u as h,Z as $,a,t as i,c,g as l,F as B,j as A,n as p}from"./app-589b6ab5.js";import{_ as C}from"./Breadcrumbs-65bf6fa9.js";import{g as N,a as S}from"./helper-9d93711f.js";import{_ as j}from"./Datatable-9e7bd542.js";import{_ as g,a as u,b as D}from"./EmptyState-fbc63e87.js";import"./logo1637145113-c7398df9.js";const L={class:"px-4 sm:px-6 lg:px-8"},M={class:"sm:flex sm:items-center"},E={class:"sm:flex-auto"},F={class:"text-2xl font-semibold leading-6 text-gray-900 dark:text-white"},P={class:"mt-2 text-sm text-gray-700 dark:text-white"},T={key:0,class:"min-w-full divide-y divide-gray-300 dark:divide-black"},q={class:"bg-gray-50 dark:bg-grayish"},z={class:"divide-y divide-gray-200 dark:divide-black bg-white dark:bg-grayish"},I={class:"flex-shrink-0"},O={class:"flex h-10 w-10 items-center justify-center rounded-full border-2 border-cyan-600"},R={class:"text-cyan-700"},U={class:"flex-shrink-0"},Z={key:1,class:"text-center bg-white dark:bg-grayish text-lg text-gray-600 py-4"},x="",Y={__name:"LeaderBoard",props:{ratings:{type:Object},phase:{},org:{}},setup(d){const o=d,y=[{name:"Statistiques",href:route("admin-dashboard.index",{org_id:o.org.org_id,phase_id:o.phase.phase_id}),current:!1},{name:"Classement des évaluations",href:"#",current:!0}],b=w(()=>N(o.ratings)),v=r=>{switch(!0){case r<=25:return"red";case(r>25&&r<=50):return"amber";case(r>50&&r<=75):return"green";default:return"cyan"}},m=V(o.ratings.data.map(r=>({...r,color:v(r.rating_mark)})));return(r,f)=>(n(),_(k,null,{default:t(()=>[s(h($),{title:"Mes Èvaluations"}),a("div",L,[s(C,{pages:y}),a("div",M,[a("div",E,[a("h1",F," Classement des Évaluations de "+i(d.phase.phase_year)+" "+i(d.org!==-1?" - "+d.org.org_name:""),1),a("p",P," Liste des évaluations de "+i(d.phase.phase_year)+" par ordre de mérite. ",1)])]),h(S)(d.ratings.data)?(n(),_(j,{key:0,modelValue:x,"onUpdate:modelValue":f[0]||(f[0]=e=>x=e),pagination:b.value,search:!1},{default:t(()=>[m.value.length>0?(n(),c("table",T,[a("thead",q,[a("tr",null,[s(g,{first:!0},{default:t(()=>[l("Agent")]),_:1}),s(g,null,{default:t(()=>[l("Note")]),_:1}),s(g,null,{default:t(()=>[l("Appréciation")]),_:1}),s(g,null,{default:t(()=>[l("Validation")]),_:1})])]),a("tbody",z,[(n(!0),c(B,null,A(m.value,e=>(n(),c("tr",{key:e.rating_id},[s(u,{first:!0,class:"whitespace-pre-line"},{default:t(()=>[l(i(e.evaluated.user_display_name+" "+e.evaluated.user_matricule),1)]),_:2},1024),s(u,null,{default:t(()=>[a("span",I,[a("span",O,[a("span",R,i(e.rating_mark),1)])])]),_:2},1024),s(u,null,{default:t(()=>[a("p",{class:p([e.color==="red"?"bg-red-600 ring-red-600/20":e.color==="amber"?"bg-amber-600 ring-amber-600/20":e.color==="green"?"bg-green-600 ring-green-600/20":"bg-cyan-600  ring-cyan-600/20","text-white rounded-md mt-0.5 px-1.5 py-0.5 text-xs font-bold ring-1 ring-inset max-w-fit"])},[a("span",U,i(e.color==="red"?"Insuffisant":e.color==="amber"?"Moyen":e.color==="green"?"Satisfaisant":"Trés Satisfaisant"),1)],2)]),_:2},1024),s(u,null,{default:t(()=>[a("span",{class:p([e.rating_is_validated?"bg-green-50 text-green-700 ring-green-600/20 dark:bg-green-600 dark:text-white":"bg-red-50 text-red-700 ring-red-600/20 dark:bg-red-600 dark:text-white","inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset"])},i(e.rating_is_validated?"Validé":"En attende"),3)]),_:2},1024)]))),128))])])):(n(),c("div",Z,"Aucun élément trouvé."))]),_:1},8,["pagination"])):(n(),_(D,{key:1,message:"Aucune évaluation validée pour l'instant.",title:"Pas d'évaluations"}))])]),_:1}))}};export{Y as default};
