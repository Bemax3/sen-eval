import{_ as B}from"./AuthenticatedLayout-e8ebc8e5.js";import{o as s,c as o,a as e,r as v,b as C,d as f,e as i,f as t,u,Z as $,t as d,g as c,k as h,F as A,j as M,n as b}from"./app-81706381.js";import{_ as N}from"./Breadcrumbs-7a50f25d.js";import{g as L,a as S}from"./helper-df860a3e.js";import{_ as j}from"./Datatable-a7d326b7.js";import{_ as g,a as m,b as z}from"./EmptyState-cf46cf93.js";import"./logo1637145113-c7398df9.js";function D(l,r){return s(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M10 3a.75.75 0 01.75.75v10.638l3.96-4.158a.75.75 0 111.08 1.04l-5.25 5.5a.75.75 0 01-1.08 0l-5.25-5.5a.75.75 0 111.08-1.04l3.96 4.158V3.75A.75.75 0 0110 3z","clip-rule":"evenodd"})])}function O(l,r){return s(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M10 17a.75.75 0 01-.75-.75V5.612L5.29 9.77a.75.75 0 01-1.08-1.04l5.25-5.5a.75.75 0 011.08 0l5.25 5.5a.75.75 0 11-1.08 1.04l-3.96-4.158V16.25A.75.75 0 0110 17z","clip-rule":"evenodd"})])}const E={class:"px-4 sm:px-6 lg:px-8"},F={class:"sm:flex sm:items-center"},P={class:"sm:flex-auto"},T={class:"text-2xl font-semibold leading-6 text-gray-900 dark:text-white"},q={class:"mt-2 text-sm text-gray-700 dark:text-white"},I={key:0,class:"space-x-2 mt-4 sm:ml-16 sm:mt-0 sm:flex-none"},R=["href"],U=["href"],Z={key:0,class:"min-w-full divide-y divide-gray-300 dark:divide-black"},G={class:"bg-gray-50 dark:bg-grayish"},H={class:"divide-y divide-gray-200 dark:divide-black bg-white dark:bg-grayish"},J={class:"flex-shrink-0"},K={class:"flex h-10 w-10 items-center justify-center rounded-full border-2 border-cyan-600"},Q={class:"text-cyan-700"},W={class:"flex-shrink-0"},X={key:1,class:"text-center bg-white dark:bg-grayish text-lg text-gray-600 py-4"},y="",ie={__name:"LeaderBoard",props:{ratings:{type:Object},asc:{},phase:{},org:{}},setup(l){const r=l,p=v(r.asc),w=[{name:"Statistiques",href:route("admin-dashboard.index",{org_id:r.org.org_id,phase_id:r.phase.phase_id}),current:!1},{name:"Classement des évaluations",href:"#",current:!0}],k=C(()=>L(r.ratings)),V=n=>{switch(!0){case n<=25:return"red";case(n>25&&n<=50):return"amber";case(n>50&&n<=75):return"green";default:return"cyan"}},_=v(r.ratings.data.map(n=>({...n,color:V(n.rating_mark)})));return(n,x)=>(s(),f(B,null,{default:i(()=>[t(u($),{title:"Mes Èvaluations"}),e("div",E,[t(N,{pages:w}),e("div",F,[e("div",P,[e("h1",T," Classement des Évaluations de "+d(l.phase.phase_year)+" "+d(l.org!==-1?" - "+l.org.org_name:""),1),e("p",q," Liste des évaluations de "+d(l.phase.phase_year)+" par ordre de mérite. ",1)]),_.value.length>0?(s(),o("div",I,[p.value?(s(),o("a",{key:0,href:n.route("admin-dashboard.leaderboard",{order:"desc",org_id:r.org.org_id,phase_id:r.phase.phase_id}),class:"inline-flex gap-x-1.5 rounded-md bg-cyan-600 px-3 py-2 text-center text-sm font-semibold text-white shadow-sm hover:bg-cyan-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-cyan-600"},[c(" Ordre décroissant "),t(u(D),{class:"-mr-0.5 h-5 w-5"})],8,R)):h("",!0),p.value?h("",!0):(s(),o("a",{key:1,href:n.route("admin-dashboard.leaderboard",{order:"asc",org_id:r.org.org_id,phase_id:r.phase.phase_id}),class:"inline-flex gap-x-1.5 rounded-md bg-cyan-600 px-3 py-2 text-center text-sm font-semibold text-white shadow-sm hover:bg-cyan-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-cyan-600"},[c(" Ordre croissant "),t(u(O),{class:"-mr-0.5 h-5 w-5"})],8,U))])):h("",!0)]),u(S)(l.ratings.data)?(s(),f(j,{key:0,modelValue:y,"onUpdate:modelValue":x[0]||(x[0]=a=>y=a),pagination:k.value,search:!1},{default:i(()=>[_.value.length>0?(s(),o("table",Z,[e("thead",G,[e("tr",null,[t(g,{first:!0},{default:i(()=>[c("Agent")]),_:1}),t(g,null,{default:i(()=>[c("Note")]),_:1}),t(g,null,{default:i(()=>[c("Appréciation")]),_:1}),t(g,null,{default:i(()=>[c("Validation")]),_:1})])]),e("tbody",H,[(s(!0),o(A,null,M(_.value,a=>(s(),o("tr",{key:a.rating_id},[t(m,{first:!0,class:"whitespace-pre-line"},{default:i(()=>[c(d(a.evaluated.user_display_name+" "+a.evaluated.user_matricule),1)]),_:2},1024),t(m,null,{default:i(()=>[e("span",J,[e("span",K,[e("span",Q,d(a.rating_mark),1)])])]),_:2},1024),t(m,null,{default:i(()=>[e("p",{class:b([a.color==="red"?"bg-red-600 ring-red-600/20":a.color==="amber"?"bg-amber-600 ring-amber-600/20":a.color==="green"?"bg-green-600 ring-green-600/20":"bg-cyan-600  ring-cyan-600/20","text-white rounded-md mt-0.5 px-1.5 py-0.5 text-xs font-bold ring-1 ring-inset max-w-fit"])},[e("span",W,d(a.color==="red"?"Insuffisant":a.color==="amber"?"Moyen":a.color==="green"?"Satisfaisant":"Trés Satisfaisant"),1)],2)]),_:2},1024),t(m,null,{default:i(()=>[e("span",{class:b([a.rating_is_validated?"bg-green-50 text-green-700 ring-green-600/20 dark:bg-green-600 dark:text-white":"bg-orange-50 text-orange-700 ring-orange-600/20 dark:bg-orange-600 dark:text-white","inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset"])},d(a.rating_is_validated?"Validé":"En attente"),3)]),_:2},1024)]))),128))])])):(s(),o("div",X,"Aucun élément trouvé."))]),_:1},8,["pagination"])):(s(),f(z,{key:1,message:"Aucune évaluation validée pour l'instant.",title:"Pas d'évaluations"}))])]),_:1}))}};export{ie as default};
