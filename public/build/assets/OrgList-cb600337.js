import{_ as k,g as O,a as N}from"./AuthenticatedLayout-ed8aacb8.js";import{_ as $}from"./Datatable-b62de8a6.js";import{_ as l,a as V,b as u}from"./EmptyState-9f4097d4.js";import{b as B,r as C,h as P,w as y,o as n,d as f,e as t,f as e,u as d,Z as j,a as i,c as m,g as r,F as D,j as L,l as F,O as v,t as c,m as x}from"./app-2ea43d72.js";import{_ as M}from"./Breadcrumbs-ee7970c9.js";import{r as R}from"./EyeIcon-6f33083a.js";import{r as S}from"./PencilSquareIcon-f07e362d.js";import"./logo1637145113-c7398df9.js";const T={class:"px-4 sm:px-6 lg:px-8"},A=i("div",{class:"sm:flex sm:items-center"},[i("div",{class:"sm:flex-auto"},[i("h1",{class:"text-2xl font-semibold leading-6 text-gray-900"},"Organisations"),i("p",{class:"mt-2 text-sm text-gray-700"}," La liste des organisations de la Senelec. ")])],-1),E={key:0,class:"min-w-full divide-y divide-gray-300"},U={class:"bg-gray-50"},Z={class:"divide-y divide-gray-200 bg-white"},q={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},z={class:"flex items-center justify-center"},G={key:1,class:"text-center bg-white text-lg text-gray-600 py-4"},ee={__name:"OrgList",props:{orgs:{type:Object}},setup(h){const p=h,w=[{name:"Organisations",href:"#",current:!0}],b=B(()=>O(p.orgs)),o=C(p.orgs.data),_=P({keyword:"",fields:["org_name","org_type","org_responsibility_center"]});return y(()=>_.keyword,function(s){s===""?o.value=p.orgs.data:F.post(route("orgs.search"),_).then(g=>o.value=g.data)}),y(()=>p.orgs,function(s){o.value=s.data,!o.value.length>0&&(s.prev_page_url?v.get(s.prev_page_url):v.get(s.first_page_url))}),(s,g)=>(n(),f(k,null,{default:t(()=>[e(d(j),{title:"Organisations"}),i("div",T,[e(M,{pages:w}),A,d(N)(h.orgs.data)?(n(),f($,{key:0,modelValue:_.keyword,"onUpdate:modelValue":g[0]||(g[0]=a=>_.keyword=a),pagination:b.value},{default:t(()=>[o.value.length>0?(n(),m("table",E,[i("thead",U,[i("tr",null,[e(l,{first:!0},{default:t(()=>[r("Nom")]),_:1}),e(l,null,{default:t(()=>[r("Centre de Responsabilité")]),_:1}),e(l,null,{default:t(()=>[r("Type")]),_:1}),e(l,null,{default:t(()=>[r("Organisation Mère")]),_:1}),e(l,null,{default:t(()=>[r("CR Organisation Mère")]),_:1}),e(l)])]),i("tbody",Z,[(n(!0),m(D,null,L(o.value,a=>(n(),m("tr",{key:a.org_id},[e(u,{first:!0,class:"whitespace-pre-line"},{default:t(()=>[r(c(a.org_name),1)]),_:2},1024),e(u,{class:"whitespace-pre-line"},{default:t(()=>[r(c(a.org_responsibility_center),1)]),_:2},1024),e(u,null,{default:t(()=>[r(c(a.org_type),1)]),_:2},1024),e(u,{class:"whitespace-pre-line"},{default:t(()=>[r(c(a.parent?a.parent.org_name:"No Parent Org"),1)]),_:2},1024),e(u,null,{default:t(()=>[r(c(a.parent?a.parent.org_responsibility_center:"No Parent Org"),1)]),_:2},1024),i("td",q,[i("div",z,[e(d(x),{href:s.route("orgs.show",{org:a.org_id}),class:"group flex items-center px-4 py-2 text-sm"},{default:t(()=>[e(d(R),{"aria-hidden":"true",class:"mr-3 h-5 w-5 text-gray-400 group-hover:text-cyan-600"})]),_:2},1032,["href"]),e(d(x),{href:s.route("orgs.edit",{org:a.org_id}),class:"group flex items-center px-4 py-2 text-sm"},{default:t(()=>[e(d(S),{"aria-hidden":"true",class:"mr-3 h-5 w-5 text-gray-400 group-hover:text-cyan-600"})]),_:2},1032,["href"])])])]))),128))])])):(n(),m("div",G," Aucun élément trouvé."))]),_:1},8,["modelValue","pagination"])):(n(),f(V,{key:1,link:s.route("orgs.create"),action:"Nouveau",message:"Créer une nouvelle organisation en appuyant sur ce bouton",title:"Pas d'organisation"},null,8,["link"]))])]),_:1}))}};export{ee as default};
