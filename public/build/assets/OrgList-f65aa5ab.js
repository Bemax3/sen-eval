import{_ as b}from"./AuthenticatedLayout-b0b54744.js";import{_ as O}from"./Datatable-33676cac.js";import{_ as l,a as u,b as N}from"./EmptyState-ab9bb41f.js";import{b as $,r as V,h as B,w as y,o,d as f,e as t,f as e,u as d,Z as C,a as i,c as m,g as r,F as P,j,t as c,l as v,m as D,O as x}from"./app-c51809d2.js";import{g as L,a as F}from"./helper-f88ff6de.js";import{_ as M}from"./Breadcrumbs-6cd41b84.js";import{r as R}from"./EyeIcon-a83fe0d9.js";import{r as S}from"./PencilSquareIcon-5c661c37.js";import"./logo1637145113-c7398df9.js";const T={class:"px-4 sm:px-6 lg:px-8"},A=i("div",{class:"sm:flex sm:items-center"},[i("div",{class:"sm:flex-auto"},[i("h1",{class:"text-2xl font-semibold leading-6 text-gray-900 dark:text-white"},"Organisations"),i("p",{class:"mt-2 text-sm text-gray-700 dark:text-white"}," La liste des organisations de la Senelec. ")])],-1),E={key:0,class:"min-w-full divide-y divide-gray-300 dark:divide-black"},U={class:"bg-gray-50 dark:bg-grayish"},Z={class:"divide-y divide-gray-200 dark:divide-black bg-white dark:bg-grayish"},q={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},z={class:"flex items-center justify-center"},G={key:1,class:"text-center bg-white dark:bg-grayish text-lg text-gray-600 py-4"},te={__name:"OrgList",props:{orgs:{type:Object}},setup(h){const g=h,k=[{name:"Organisations",href:"#",current:!0}],w=$(()=>L(g.orgs)),n=V(g.orgs.data),p=B({keyword:"",fields:["org_name","org_type","org_responsibility_center"]});return y(()=>p.keyword,function(s){s===""?n.value=g.orgs.data:D.post(route("orgs.search"),p).then(_=>n.value=_.data)}),y(()=>g.orgs,function(s){n.value=s.data,!n.value.length>0&&(s.prev_page_url?x.get(s.prev_page_url):x.get(s.first_page_url))}),(s,_)=>(o(),f(b,null,{default:t(()=>[e(d(C),{title:"Organisations"}),i("div",T,[e(M,{pages:k}),A,d(F)(h.orgs.data)?(o(),f(O,{key:0,modelValue:p.keyword,"onUpdate:modelValue":_[0]||(_[0]=a=>p.keyword=a),pagination:w.value},{default:t(()=>[n.value.length>0?(o(),m("table",E,[i("thead",U,[i("tr",null,[e(l,{first:!0},{default:t(()=>[r("Nom")]),_:1}),e(l,null,{default:t(()=>[r("Centre de Responsabilité")]),_:1}),e(l,null,{default:t(()=>[r("Type")]),_:1}),e(l,null,{default:t(()=>[r("Organisation Mère")]),_:1}),e(l,null,{default:t(()=>[r("CR Organisation Mère")]),_:1}),e(l)])]),i("tbody",Z,[(o(!0),m(P,null,j(n.value,a=>(o(),m("tr",{key:a.org_id},[e(u,{first:!0,class:"whitespace-pre-line"},{default:t(()=>[r(c(a.org_name),1)]),_:2},1024),e(u,{class:"whitespace-pre-line"},{default:t(()=>[r(c(a.org_responsibility_center),1)]),_:2},1024),e(u,null,{default:t(()=>[r(c(a.org_type),1)]),_:2},1024),e(u,{class:"whitespace-pre-line"},{default:t(()=>[r(c(a.parent?a.parent.org_name:"No Parent Org"),1)]),_:2},1024),e(u,null,{default:t(()=>[r(c(a.parent?a.parent.org_responsibility_center:"No Parent Org"),1)]),_:2},1024),i("td",q,[i("div",z,[e(d(v),{href:s.route("orgs.show",{org:a.org_id}),class:"group flex items-center px-4 py-2 text-sm"},{default:t(()=>[e(d(R),{"aria-hidden":"true",class:"mr-3 h-5 w-5 text-gray-400 group-hover:text-cyan-600"})]),_:2},1032,["href"]),e(d(v),{href:s.route("orgs.edit",{org:a.org_id}),class:"group flex items-center px-4 py-2 text-sm"},{default:t(()=>[e(d(S),{"aria-hidden":"true",class:"mr-3 h-5 w-5 text-gray-400 group-hover:text-cyan-600"})]),_:2},1032,["href"])])])]))),128))])])):(o(),m("div",G," Aucun élément trouvé."))]),_:1},8,["modelValue","pagination"])):(o(),f(N,{key:1,link:s.route("orgs.create"),action:"Nouveau",message:"Créer une nouvelle organisation en appuyant sur ce bouton",title:"Pas d'organisation"},null,8,["link"]))])]),_:1}))}};export{te as default};
