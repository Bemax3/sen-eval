import{_ as v}from"./AuthenticatedLayout-b0b54744.js";import{b as k,r as w,o as l,d as c,e as t,f as e,u as _,Z as D,a as i,t as r,c as u,g as a,k as N,F as P,j as V,n as f}from"./app-c51809d2.js";import{g as $,a as B}from"./helper-f88ff6de.js";import{_ as d,a as o,b as C}from"./EmptyState-ab9bb41f.js";import{_ as T}from"./Breadcrumbs-6cd41b84.js";import{_ as L}from"./Datatable-33676cac.js";import{r as j}from"./ArrowDownTrayIcon-70e95d3e.js";import"./logo1637145113-c7398df9.js";const A={class:"px-4 sm:px-6 lg:px-8"},F={class:"sm:flex sm:items-center"},S={class:"sm:flex-auto"},q={class:"text-2xl font-semibold leading-6 text-gray-900 dark:text-white"},z={class:"mt-2 text-sm text-gray-700 dark:text-white"},E={key:0,class:"space-x-2 mt-4 sm:ml-16 sm:mt-0 sm:flex-none"},O=["href"],U={key:0,class:"min-w-full divide-y divide-gray-300 dark:divide-black"},Z={class:"bg-gray-50 dark:bg-grayish"},G={class:"divide-y divide-gray-200 dark:divide-black bg-white dark:bg-grayish"},H={key:1,class:"text-center bg-white dark:bg-grayish text-lg text-gray-600 py-4"},h="",Y={__name:"PromotionsDetails",props:{promotions:{type:Object},phase:{},org:{},type:{}},setup(s){const m=s,x=[{name:"Statistiques",href:route("admin-dashboard.index",{org_id:m.org.org_id,phase_id:m.phase.phase_id}),current:!1},{name:"Détails des promotions demandées",href:"#",current:!0}],y=k(()=>$(m.promotions)),g=w(m.promotions.data);return(b,p)=>(l(),c(v,null,{default:t(()=>[e(_(D),{title:"Agents"}),i("div",A,[e(T,{pages:x}),i("div",F,[i("div",S,[i("h1",q,'"'+r(s.type.promotion_type_name)+`" demandées pour l'année `+r(s.phase.phase_year)+" "+r(s.org!==-1?" - "+s.org.org_name:""),1),i("p",z," La liste des promotions demandées pour l'année "+r(s.phase.phase_year)+". ",1)]),g.value.length>0?(l(),u("div",E,[i("a",{href:b.route("admin-dashboard.download-promotions-details",{org_id:s.org.org_id,phase_id:s.phase.phase_id,type:s.type.promotion_type_id}),class:"inline-flex gap-x-1.5 rounded-md bg-cyan-600 px-3 py-2 text-center text-sm font-semibold text-white shadow-sm hover:bg-cyan-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-cyan-600"},[a(" Télécharger "),e(_(j),{class:"-mr-0.5 h-5 w-5"})],8,O)])):N("",!0)]),_(B)(s.promotions.data)?(l(),c(L,{key:0,modelValue:h,"onUpdate:modelValue":p[0]||(p[0]=n=>h=n),pagination:y.value,search:!1},{default:t(()=>[g.value.length>0?(l(),u("table",U,[i("thead",Z,[i("tr",null,[e(d,{first:!0},{default:t(()=>[a("Type")]),_:1}),e(d,null,{default:t(()=>[a("Évalué")]),_:1}),e(d,null,{default:t(()=>[a("Évaluateur")]),_:1}),e(d,null,{default:t(()=>[a("Demandée par")]),_:1}),e(d,null,{default:t(()=>[a("Éligibilité")]),_:1}),e(d,null,{default:t(()=>[a("Proposition")]),_:1}),e(d,null,{default:t(()=>[a("Commentaire")]),_:1})])]),i("tbody",G,[(l(!0),u(P,null,V(g.value,n=>(l(),u("tr",{key:n.rating_promotion_id},[e(o,{first:!0,class:"whitespace-pre-line"},{default:t(()=>[a(r(s.type.promotion_type_name),1)]),_:1}),e(o,null,{default:t(()=>[a(r(n.rating.evaluated.user_display_name),1)]),_:2},1024),e(o,null,{default:t(()=>[a(r(n.rating.evaluator.user_display_name),1)]),_:2},1024),e(o,{class:"whitespace-pre-line"},{default:t(()=>[a(" L'évaluateur ")]),_:1}),e(o,null,{default:t(()=>[i("span",{class:f([n.evaluated_is_eligible?"bg-green-50 text-green-700 ring-green-600/20 dark:bg-green-600 dark:text-white":"bg-red-50 text-red-700 ring-red-600/20 dark:bg-red-600 dark:text-white","inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset"])},r(n.evaluated_is_eligible?"Éligible":"Non Éligible"),3)]),_:2},1024),e(o,null,{default:t(()=>[i("span",{class:f([n.is_proposed?"bg-green-50 text-green-700 ring-green-600/20 dark:bg-green-600 dark:text-white":"bg-red-50 text-red-700 ring-red-600/20 dark:bg-red-600 dark:text-white","inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset"])},r(n.is_proposed?"Proposé":"Non Proposé"),3)]),_:2},1024),e(o,{class:"whitespace-pre-line"},{default:t(()=>[a(r(n.rating_promotion_comment),1)]),_:2},1024)]))),128))])])):(l(),u("div",H," Aucun élément trouvé."))]),_:1},8,["pagination"])):(l(),c(C,{key:1,message:"Tous les agents ont été évalués",title:"Pas d'agent non évalué"}))])]),_:1}))}};export{Y as default};
