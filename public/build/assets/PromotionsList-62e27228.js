import{_ as x}from"./AuthenticatedLayout-60aabe79.js";import{b,r as v,o as l,d as g,e,f as a,u as p,Z as k,a as i,t as n,c as _,g as t,F as w,j as $,n as D}from"./app-97f24108.js";import{g as V,a as B}from"./helper-00cc7808.js";import{_ as d,a as o,b as N}from"./EmptyState-e29df9ce.js";import{_ as P}from"./Breadcrumbs-128d3fe8.js";import{_ as C}from"./Datatable-bd1675da.js";import"./logo1637145113-c7398df9.js";const L={class:"px-4 sm:px-6 lg:px-8"},T={class:"sm:flex sm:items-center"},j={class:"sm:flex-auto"},A={class:"text-2xl font-semibold leading-6 text-gray-900 dark:text-white"},F={class:"mt-2 text-sm text-gray-700 dark:text-white"},S={key:0,class:"min-w-full divide-y divide-gray-300 dark:divide-black"},q={class:"bg-gray-50 dark:bg-grayish"},z={class:"divide-y divide-gray-200 dark:divide-black bg-white dark:bg-grayish"},E={key:1,class:"text-center bg-white dark:bg-grayish text-lg text-gray-600 py-4"},f="",M={__name:"PromotionsList",props:{promotions:{type:Object},phase:{},org:{}},setup(r){const u=r,h=[{name:"Statistiques",href:route("admin-dashboard.index",{org_id:u.org.org_id,phase_id:u.phase.phase_id}),current:!1},{name:"Détails des formations demandées",href:"#",current:!0}],y=b(()=>V(u.promotions)),m=v(u.promotions.data);return(O,c)=>(l(),g(x,null,{default:e(()=>[a(p(k),{title:"Agents"}),i("div",L,[a(P,{pages:h}),i("div",T,[i("div",j,[i("h1",A,"Promotion demandées pour l'année "+n(r.phase.phase_year)+" "+n(r.org!==-1?" - "+r.org.org_name:""),1),i("p",F," La liste des réclamations demandées pour l'année "+n(r.phase.phase_year)+". ",1)])]),p(B)(r.promotions.data)?(l(),g(C,{key:0,modelValue:f,"onUpdate:modelValue":c[0]||(c[0]=s=>f=s),pagination:y.value,search:!1},{default:e(()=>[m.value.length>0?(l(),_("table",S,[i("thead",q,[i("tr",null,[a(d,{first:!0},{default:e(()=>[t("Type")]),_:1}),a(d,null,{default:e(()=>[t("Évalué")]),_:1}),a(d,null,{default:e(()=>[t("Évaluateur")]),_:1}),a(d,null,{default:e(()=>[t("Demandée par")]),_:1}),a(d,null,{default:e(()=>[t("Éligibilité")]),_:1}),a(d,null,{default:e(()=>[t("Commentaire")]),_:1})])]),i("tbody",z,[(l(!0),_(w,null,$(m.value,s=>(l(),_("tr",{key:s.rating_promotion_id},[a(o,{first:!0,class:"whitespace-pre-line"},{default:e(()=>[t(n(s.type.promotion_type_name),1)]),_:2},1024),a(o,null,{default:e(()=>[t(n(s.rating.evaluated.user_display_name),1)]),_:2},1024),a(o,null,{default:e(()=>[t(n(s.rating.evaluator.user_display_name),1)]),_:2},1024),a(o,{class:"whitespace-pre-line"},{default:e(()=>[t(n(s.rating.evaluator.user_display_name),1)]),_:2},1024),a(o,null,{default:e(()=>[i("span",{class:D([s.evaluated_is_eligible?"bg-green-50 text-green-700 ring-green-600/20 dark:bg-green-600 dark:text-white":"bg-red-50 text-red-700 ring-red-600/20 dark:bg-red-600 dark:text-white","inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset"])},n(s.evaluated_is_eligible?"Éligible":"Non Éligible"),3)]),_:2},1024),a(o,{class:"whitespace-pre-line"},{default:e(()=>[t(n(s.rating_promotion_comment),1)]),_:2},1024)]))),128))])])):(l(),_("div",E," Aucun élément trouvé."))]),_:1},8,["pagination"])):(l(),g(N,{key:1,message:"Tous les agents ont été évalués",title:"Pas d'agent non évalué"}))])]),_:1}))}};export{M as default};
