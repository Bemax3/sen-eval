import{_ as v,g as w,a as b}from"./AuthenticatedLayout-c5d98272.js";import{b as k,r as V,h as $,w as j,o as n,d as f,e as a,f as e,u as m,Z as B,a as t,c as g,g as r,F as N,j as D,l as L,t as l,n as M,m as A}from"./app-74a7ed68.js";import{_ as C}from"./Breadcrumbs-9ec19463.js";import{_ as E}from"./Datatable-1f2c6bab.js";import{_ as i,a as F,b as o}from"./EmptyState-dc589c25.js";import{r as O}from"./EyeIcon-64413391.js";import"./logo1637145113-c7398df9.js";const P={class:"px-4 sm:px-6 lg:px-8"},q=t("div",{class:"sm:flex sm:items-center"},[t("div",{class:"sm:flex-auto"},[t("h1",{class:"text-2xl font-semibold leading-6 text-gray-900"},"Mes Évaluations"),t("p",{class:"mt-2 text-sm text-gray-700"}," Liste de mes Évaluations. ")])],-1),z={key:0,class:"min-w-full divide-y divide-gray-300"},R={class:"bg-gray-50"},S={class:"divide-y divide-gray-200 bg-white"},T={class:"flex-shrink-0"},U={class:"flex h-10 w-10 items-center justify-center rounded-full border-2 border-cyan-600"},Z={class:"text-cyan-700"},G={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},H={class:"flex items-center justify-center"},I={key:1,class:"text-center bg-white text-lg text-gray-600 py-4"},te={__name:"RatingsList",props:{agent:{type:Object},ratings:{type:Object}},setup(h){const d=h,x=[{name:"Mes Évaluations",href:"#",current:!0}],y=k(()=>w(d.ratings)),u=V(d.ratings.data),c=$({keyword:"",fields:["goal_name","goal_expected_result"]});return j(()=>c.keyword,function(p){p===""?u.value=d.ratings.data:L.post(route("agent-goals.search",{agent:d.agent.user_id}),c).then(_=>u.value=_.data)}),(p,_)=>(n(),f(v,null,{default:a(()=>[e(m(B),{title:"Mes Èvaluations"}),t("div",P,[e(C,{pages:x}),q,m(b)(h.ratings.data)?(n(),f(E,{key:0,modelValue:c.keyword,"onUpdate:modelValue":_[0]||(_[0]=s=>c.keyword=s),pagination:y.value},{default:a(()=>[u.value.length>0?(n(),g("table",z,[t("thead",R,[t("tr",null,[e(i,{first:!0},{default:a(()=>[r("Évaluateur")]),_:1}),e(i,null,{default:a(()=>[r("Évalué")]),_:1}),e(i,null,{default:a(()=>[r("Année")]),_:1}),e(i,null,{default:a(()=>[r("Note")]),_:1}),e(i,null,{default:a(()=>[r("Validation")]),_:1}),e(i)])]),t("tbody",S,[(n(!0),g(N,null,D(u.value,s=>(n(),g("tr",{key:s.rating_id},[e(o,{first:!0,class:"whitespace-pre-line"},{default:a(()=>[r(l(s.evaluator.user_display_name+" "+s.evaluator.user_matricule),1)]),_:2},1024),e(o,{class:"whitespace-pre-line"},{default:a(()=>[r(l(s.evaluated.user_display_name+" "+s.evaluated.user_matricule),1)]),_:2},1024),e(o,null,{default:a(()=>[r(l(s.phase.phase_year),1)]),_:2},1024),e(o,null,{default:a(()=>[t("span",T,[t("span",U,[t("span",Z,l(s.rating_mark),1)])])]),_:2},1024),e(o,null,{default:a(()=>[t("span",{class:M([s.rating_is_validated?"bg-green-50 text-green-700 ring-green-600/20":"bg-red-50 text-red-700 ring-red-600/20","inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset"])},l(s.rating_is_validated?"Validé":"En attende"),3)]),_:2},1024),t("td",G,[t("div",H,[e(m(A),{href:p.route("ratings.show",{rating:s.rating_id}),class:"group flex items-center px-4 py-2 text-sm"},{default:a(()=>[e(m(O),{"aria-hidden":"true",class:"mr-3 h-5 w-5 text-gray-400 group-hover:text-cyan-600"})]),_:2},1032,["href"])])])]))),128))])])):(n(),g("div",I,"Aucun élément trouvé."))]),_:1},8,["modelValue","pagination"])):(n(),f(F,{key:1,message:"Votre supérieur hiérarchique ne vous a pas encore évaluer",title:"Pas d'évaluations"}))])]),_:1}))}};export{te as default};
