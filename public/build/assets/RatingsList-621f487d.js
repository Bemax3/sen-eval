import{_ as y}from"./AuthenticatedLayout-b0b54744.js";import{b as k,r as w,h as b,w as V,o as i,d as f,e as t,f as e,u as _,Z as $,a,c as m,g as r,F as j,j as B,t as l,n as N,l as D,m as L}from"./app-c51809d2.js";import{_ as A}from"./Breadcrumbs-6cd41b84.js";import{g as C,a as E}from"./helper-f88ff6de.js";import{_ as F}from"./Datatable-33676cac.js";import{_ as n,a as d,b as P}from"./EmptyState-ab9bb41f.js";import{r as z}from"./EyeIcon-a83fe0d9.js";import"./logo1637145113-c7398df9.js";const O={class:"px-4 sm:px-6 lg:px-8"},R=a("div",{class:"sm:flex sm:items-center"},[a("div",{class:"sm:flex-auto"},[a("h1",{class:"text-2xl font-semibold leading-6 text-gray-900 dark:text-white"},"Évaluations à valider"),a("p",{class:"mt-2 text-sm text-gray-700 dark:text-white"}," Liste des Évaluations faites par mes agents. ")])],-1),S={key:0,class:"min-w-full divide-y divide-gray-300 dark:divide-black"},T={class:"bg-gray-50 dark:bg-grayish"},U={class:"divide-y divide-gray-200 dark:divide-black bg-white dark:bg-grayish"},Z={class:"flex-shrink-0"},q={class:"flex h-10 w-10 items-center justify-center rounded-full border-2 border-cyan-600"},G={class:"text-cyan-600"},H={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},I={class:"flex items-center justify-center"},J={key:1,class:"text-center bg-white dark:bg-grayish text-lg text-gray-600 py-4"},te={__name:"RatingsList",props:{ratings:{type:Object}},setup(h){const o=h,v=[{name:"Évaluations à valider",href:"#",current:!0}],x=k(()=>C(o.ratings)),u=w(o.ratings.data),c=b({keyword:"",fields:["goal_name","goal_expected_result"]});return V(()=>c.keyword,function(p){p===""?u.value=o.ratings.data:L.post(route("agent-goals.search",{agent:o.agent.user_id}),c).then(g=>u.value=g.data)}),(p,g)=>(i(),f(y,null,{default:t(()=>[e(_($),{title:"À Valider"}),a("div",O,[e(A,{pages:v}),R,_(E)(h.ratings.data)?(i(),f(F,{key:0,modelValue:c.keyword,"onUpdate:modelValue":g[0]||(g[0]=s=>c.keyword=s),pagination:x.value},{default:t(()=>[u.value.length>0?(i(),m("table",S,[a("thead",T,[a("tr",null,[e(n,{first:!0},{default:t(()=>[r("Évaluateur")]),_:1}),e(n,null,{default:t(()=>[r("Évalué")]),_:1}),e(n,null,{default:t(()=>[r("Année")]),_:1}),e(n,null,{default:t(()=>[r("Note")]),_:1}),e(n,null,{default:t(()=>[r("Validation")]),_:1}),e(n)])]),a("tbody",U,[(i(!0),m(j,null,B(u.value,s=>(i(),m("tr",{key:s.rating_id},[e(d,{first:!0,class:"whitespace-pre-line"},{default:t(()=>[r(l(s.evaluator.user_display_name+" "+s.evaluator.user_matricule),1)]),_:2},1024),e(d,{first:!0,class:"whitespace-pre-line"},{default:t(()=>[r(l(s.evaluated.user_display_name+" "+s.evaluated.user_matricule),1)]),_:2},1024),e(d,null,{default:t(()=>[r(l(s.phase.phase_year),1)]),_:2},1024),e(d,null,{default:t(()=>[a("span",Z,[a("span",q,[a("span",G,l(s.rating_mark),1)])])]),_:2},1024),e(d,null,{default:t(()=>[a("span",{class:N([s.rating_is_validated?"bg-green-50 text-green-700 ring-green-600/20 dark:bg-green-600 dark:text-white":"bg-orange-50 text-orange-700 ring-orange-600/20 dark:bg-orange-600 dark:text-white","inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset"])},l(s.rating_is_validated?"Validé":"En attente"),3)]),_:2},1024),a("td",H,[a("div",I,[e(_(D),{href:p.route("validations.show",{validation:s.rating_id}),class:"group flex items-center px-4 py-2 text-sm"},{default:t(()=>[e(_(z),{"aria-hidden":"true",class:"mr-3 h-5 w-5 text-gray-400 group-hover:text-cyan-600"})]),_:2},1032,["href"])])])]))),128))])])):(i(),m("div",J,"Aucun élément trouvé."))]),_:1},8,["modelValue","pagination"])):(i(),f(P,{key:1,message:"Vos agents ne vous ont pas transmis d'évaluation à valider.",title:"Pas d'évaluations"}))])]),_:1}))}};export{te as default};
