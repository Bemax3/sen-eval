import{_ as x}from"./AuthenticatedLayout-e8ebc8e5.js";import{b,r as k,o as i,d as _,e as a,f as e,u as g,Z as w,a as s,t as o,c as r,g as t,k as V,F as $,j as L}from"./app-81706381.js";import{g as B,a as D}from"./helper-df860a3e.js";import{_ as d,a as c,b as N}from"./EmptyState-cf46cf93.js";import{_ as S}from"./Breadcrumbs-7a50f25d.js";import{_ as T}from"./Datatable-a7d326b7.js";import{r as C}from"./ArrowDownTrayIcon-d2388767.js";import"./logo1637145113-c7398df9.js";const j={class:"px-4 sm:px-6 lg:px-8"},A={class:"sm:flex sm:items-center"},F={class:"sm:flex-auto"},P={class:"text-2xl font-semibold leading-6 text-gray-900 dark:text-white"},q={class:"mt-2 text-sm text-gray-700 dark:text-white"},E={key:0,class:"space-x-2 mt-4 sm:ml-16 sm:mt-0 sm:flex-none"},O=["href"],U={key:0,class:"min-w-full divide-y divide-gray-300 dark:divide-black"},Z={class:"bg-gray-50 dark:bg-grayish"},z={class:"divide-y divide-gray-200 dark:divide-black bg-white dark:bg-grayish"},G={key:1,class:"text-center bg-white dark:bg-grayish text-lg text-gray-600 py-4"},h="",X={__name:"SanctionsList",props:{sanctions:{type:Object},phase:{},org:{}},setup(n){const u=n,p=[{name:"Statistiques",href:route("admin-dashboard.index",{org_id:u.org.org_id,phase_id:u.phase.phase_id}),current:!1},{name:"Liste des sanctions demandées",href:"#",current:!0}],y=b(()=>B(u.sanctions)),m=k(u.sanctions.data);return(v,f)=>(i(),_(x,null,{default:a(()=>[e(g(w),{title:"Agents"}),s("div",j,[e(S,{pages:p}),s("div",A,[s("div",F,[s("h1",P,"Sanctions demandées pour l'année "+o(n.phase.phase_year)+" "+o(n.org!==-1?" - "+n.org.org_name:""),1),s("p",q," La liste des sanctions demandées pour l'année "+o(n.phase.phase_year)+". ",1)]),m.value.length>0?(i(),r("div",E,[s("a",{href:v.route("admin-dashboard.download-all-sanctions",{org_id:n.org.org_id,phase_id:n.phase.phase_id}),class:"inline-flex gap-x-1.5 rounded-md bg-cyan-600 px-3 py-2 text-center text-sm font-semibold text-white shadow-sm hover:bg-cyan-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-cyan-600"},[t(" Télécharger "),e(g(C),{class:"-mr-0.5 h-5 w-5"})],8,O)])):V("",!0)]),g(D)(n.sanctions.data)?(i(),_(T,{key:0,modelValue:h,"onUpdate:modelValue":f[0]||(f[0]=l=>h=l),pagination:y.value,search:!1},{default:a(()=>[m.value.length>0?(i(),r("table",U,[s("thead",Z,[s("tr",null,[e(d,{first:!0},{default:a(()=>[t("Type")]),_:1}),e(d,null,{default:a(()=>[t("Évalué")]),_:1}),e(d,null,{default:a(()=>[t("Évaluateur")]),_:1}),e(d,null,{default:a(()=>[t("Demandée par")]),_:1}),e(d,null,{default:a(()=>[t("Commentaire")]),_:1})])]),s("tbody",z,[(i(!0),r($,null,L(m.value,l=>(i(),r("tr",{key:l.rating_sanction_id},[e(c,{first:!0,class:"whitespace-pre-line"},{default:a(()=>[t(o(l.type.sanction_type_name),1)]),_:2},1024),e(c,null,{default:a(()=>[t(o(l.rating.evaluated.user_display_name),1)]),_:2},1024),e(c,null,{default:a(()=>[t(o(l.rating.evaluator.user_display_name),1)]),_:2},1024),e(c,{class:"whitespace-pre-line"},{default:a(()=>[t(" L'évaluateur ")]),_:1}),e(c,{class:"whitespace-pre-line"},{default:a(()=>[t(o(l.rating_sanction_comment),1)]),_:2},1024)]))),128))])])):(i(),r("div",G," Aucun élément trouvé."))]),_:1},8,["pagination"])):(i(),_(N,{key:1,message:"Tous les agents ont été évalués",title:"Pas d'agent non évalué"}))])]),_:1}))}};export{X as default};
