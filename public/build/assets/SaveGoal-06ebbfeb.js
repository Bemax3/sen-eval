import{o as f,e as v,f as i,T as h,g as s,u as l,Z as b,a as e,h as y,k as d}from"./app-85fecfce.js";import{_ as V,c as w,m as j}from"./AuthenticatedLayout-33b88696.js";import{_ as $}from"./Breadcrumbs-4927dda0.js";import{_ as k}from"./FormIndications-bed34787.js";import{_ as r}from"./InputLabel-e5ba497b.js";import{_ as M}from"./SubmitButton-78d2e83f.js";import{_ as m}from"./TextInput-06318e51.js";import{_ as u}from"./TextArea-e1fce75e.js";import{_ as S}from"./Switch-d2861d97.js";import{_ as U}from"./GoalActivity-53e7fc84.js";import{_ as q}from"./NumberInput-97d80edf.js";import{_ as D}from"./InputError-a19c1778.js";import{r as c}from"./LockClosedIcon-17328eef.js";import"./logo1637145113-c7398df9.js";import"./CheckIcon-c05fb05a.js";import"./switch-39f9d951.js";import"./use-controllable-d8497fa4.js";const L={class:"px-4 sm:px-6 lg:px-8"},O=e("div",{class:"sm:flex sm:items-center"},[e("div",{class:"sm:flex-auto"},[e("h1",{class:"text-2xl font-semibold leading-6 text-gray-900"},"Objectif"),e("p",{class:"mt-2 text-sm text-gray-700"}," Details de l'Objectif ")])],-1),B=["onSubmit"],C={class:"grid max-w-7xl grid-cols-1 gap-x-8 gap-y-10 px-4 py-16 sm:px-6 md:grid-cols-3 lg:px-8"},Y=e("div",null,[e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Libellé et Valeur Cible"),e("p",{class:"mt-1 text-sm leading-6 text-gray-400"},"Informations sur le libellé de l'objectif ainsi que la valeur cible.")],-1),N={class:"md:col-span-2"},F={class:"grid grid-cols-1 gap-x-6 gap-y-8 sm:max-w-xl sm:grid-cols-6"},I={class:"sm:col-span-full"},T={class:"relative mt-2"},z={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"},A={class:"sm:col-span-full"},E={class:"relative mt-2"},G={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"},P={class:"grid max-w-7xl grid-cols-1 gap-x-8 gap-y-10 px-4 py-16 sm:px-6 md:grid-cols-3 lg:px-8 border-t-2"},Q=e("div",null,[e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Disponibilité et Échéance"),e("p",{class:"mt-1 text-sm leading-6 text-gray-400"},"Les moyens pour atteindre l'objectif sont ils réunis ? Qu'elle sera l'échéance pour cette objectif. ")],-1),Z={class:"md:col-span-2"},H={class:"grid grid-cols-1 gap-x-6 gap-y-8 sm:max-w-xl sm:grid-cols-6"},J={class:"sm:col-span-3"},K={class:"relative mt-2"},R=["value"],W={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"},X={class:"sm:col-span-3"},ee={class:"mt-2"},se={class:"grid max-w-7xl grid-cols-1 gap-x-8 gap-y-10 px-4 py-16 sm:px-6 md:grid-cols-3 lg:px-8 border-t-2"},te=e("div",null,[e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Évaluation"),e("p",{class:"mt-1 text-sm leading-6 text-gray-400"},"Informations relatives à l'évaluation de cet objectif.")],-1),ae={class:"md:col-span-2"},le={class:"grid grid-cols-1 gap-x-6 gap-y-8 sm:max-w-xl sm:grid-cols-6"},oe={class:"sm:col-span-3"},ie={class:"relative mt-2"},de={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"},ne={class:"sm:col-span-3"},re={class:"relative mt-2"},ce={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"},me={class:"mt-8 col-span-full"},ge={class:"relative mt-2"},ue={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"},_e={class:"grid max-w-7xl grid-cols-1 gap-x-8 gap-y-10 px-4 py-16 sm:px-6 md:grid-cols-2 lg:px-8 border-t-2"},pe=e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Suivi de l'objectif",-1),xe=e("p",{class:"mt-1 text-sm leading-6 text-gray-400"},"Faites le suivi de cet objectif en laissant un commentaire. Le taux de réalisation sera renseigné par votre évaluateur.",-1),fe={class:"md:col-span-1"},ve={class:"grid grid-cols-1 gap-x-6 gap-y-8 sm:max-w-xl sm:grid-cols-6"},he={class:"col-span-full"},be={class:"relative mt-2"},ye={class:"flex items-center justify-between gap-x-6 border-t border-gray-900/10 px-4 py-4 sm:px-8"},Te={__name:"SaveGoal",props:{goal:{type:Object,default:{}},history:{}},setup(t){const _=t,p=[{name:"Mes Objectifs",href:route("goals.index"),current:!1},{name:"Modifier",href:"#",current:!0}];let n;const g=()=>{n=h({comment:""})},x=()=>{n.put(route("goals.update",{goal:_.goal.goal_id}),{onSuccess:()=>g(),preserveScroll:!0})};return g(),(Ve,a)=>(f(),v(V,null,{default:i(()=>[s(l(b),{title:"Suivi Objectif"}),e("div",L,[s($,{pages:p}),O,e("form",{class:"mt-8 shadow ring-1 ring-black ring-opacity-5 sm:rounded-lg bg-white",onSubmit:y(x,["prevent"])},[e("div",C,[Y,e("div",N,[e("div",F,[e("div",I,[s(r,{for:"start_date",required:""},{default:i(()=>[d("Libelle")]),_:1}),e("div",T,[s(m,{modelValue:t.goal.goal_name,"onUpdate:modelValue":a[0]||(a[0]=o=>t.goal.goal_name=o),disabled:!0},null,8,["modelValue"]),e("div",z,[s(l(c),{"aria-hidden":"true",class:"h-5 w-5 text-gray-400"})])])]),e("div",A,[s(r,{for:"start_date",required:""},{default:i(()=>[d("Valeur Cible")]),_:1}),e("div",E,[s(u,{modelValue:t.goal.goal_expected_result,"onUpdate:modelValue":a[1]||(a[1]=o=>t.goal.goal_expected_result=o),disabled:!0},null,8,["modelValue"]),e("div",G,[s(l(c),{"aria-hidden":"true",class:"h-5 w-5 text-gray-400"})])])])])])]),e("div",P,[Q,e("div",Z,[e("div",H,[e("div",J,[s(r,{for:"start_date",required:""},{default:i(()=>[d("Échéance")]),_:1}),e("div",K,[e("input",{disabled:!0,value:l(w)(l(j)(t.goal.goal_expected_date).format("DD MMMM YYYY")),class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6"},null,8,R),e("div",W,[s(l(c),{"aria-hidden":"true",class:"h-5 w-5 text-gray-400"})])])]),e("div",X,[e("div",ee,[s(S,{modelValue:t.goal.goal_means_available,"onUpdate:modelValue":a[2]||(a[2]=o=>t.goal.goal_means_available=o),disabled:!0,desc:"Les moyens pour accomplir cette objectif sont t-il disponible ?",label:"Disponibilité des moyens"},null,8,["modelValue"])])])])])]),e("div",se,[te,e("div",ae,[e("div",le,[e("div",oe,[s(r,null,{default:i(()=>[d("Année d'évaluation")]),_:1}),e("div",ie,[s(m,{modelValue:t.goal.phase.phase_year,"onUpdate:modelValue":a[3]||(a[3]=o=>t.goal.phase.phase_year=o),disabled:!0},null,8,["modelValue"]),e("div",de,[s(l(c),{"aria-hidden":"true",class:"h-5 w-5 text-gray-400"})])])]),e("div",ne,[s(r,null,{default:i(()=>[d("Période d'évaluation")]),_:1}),e("div",re,[s(m,{modelValue:t.goal.period.evaluation_period_name,"onUpdate:modelValue":a[4]||(a[4]=o=>t.goal.period.evaluation_period_name=o),disabled:!0},null,8,["modelValue"]),e("div",ce,[s(l(c),{"aria-hidden":"true",class:"h-5 w-5 text-gray-400"})])])]),e("div",me,[s(r,{for:"start_date",required:""},{default:i(()=>[d("Barème")]),_:1}),e("div",ge,[s(q,{modelValue:t.goal.goal_marking,"onUpdate:modelValue":a[5]||(a[5]=o=>t.goal.goal_marking=o),disabled:!0},null,8,["modelValue"]),e("div",ue,[s(l(c),{"aria-hidden":"true",class:"h-5 w-5 text-gray-400"})])])])])])]),e("div",_e,[e("div",null,[pe,xe,s(U,{history:t.history},null,8,["history"])]),e("div",fe,[e("div",ve,[e("div",he,[s(r,{for:"start_date"},{default:i(()=>[d("Commentaire")]),_:1}),e("div",be,[s(u,{modelValue:l(n).comment,"onUpdate:modelValue":a[6]||(a[6]=o=>l(n).comment=o),invalid:l(n).errors.comment!==void 0},null,8,["modelValue","invalid"])]),s(D,{message:l(n).errors.comment},null,8,["message"])])])])]),e("div",ye,[s(k),s(M,{processing:l(n).processing},{default:i(()=>[d("Enregistrer")]),_:1},8,["processing"])])],40,B)])]),_:1}))}};export{Te as default};
