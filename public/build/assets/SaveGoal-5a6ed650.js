import{o as f,d as h,e as r,T as v,f as t,u as s,Z as b,a as e,i as y,g as d,q as w,v as k,n as V}from"./app-c51809d2.js";import{_ as j}from"./AuthenticatedLayout-b0b54744.js";import{_ as $}from"./Breadcrumbs-6cd41b84.js";import{_ as M}from"./FormIndications-38155857.js";import{_ as n}from"./InputLabel-be02b7d5.js";import{_ as U}from"./SubmitButton-42dd88ba.js";import{c as q,m as S}from"./helper-f88ff6de.js";import{_ as m}from"./TextInput-b3209f14.js";import{_ as D}from"./TextArea-99af695b.js";import{_ as C}from"./Switch-4e7456cc.js";import{_ as O}from"./GoalActivity-301700e6.js";import{_ as B}from"./NumberInput-d1442d3f.js";import{_}from"./InputError-9650500a.js";import{r as c}from"./LockClosedIcon-d4d1954c.js";import"./logo1637145113-c7398df9.js";import"./CheckIcon-37fba7ec.js";import"./switch-0def0acf.js";import"./use-controllable-abfeee94.js";const L={class:"px-4 sm:px-6 lg:px-8"},T=e("div",{class:"sm:flex sm:items-center"},[e("div",{class:"sm:flex-auto"},[e("h1",{class:"text-2xl font-semibold leading-6 text-gray-900 dark:text-white"},"Objectif"),e("p",{class:"mt-2 text-sm text-gray-700 dark:text-white"}," Details de l'Objectif ")])],-1),Y=["onSubmit"],N={class:"grid max-w-full grid-cols-1 gap-x-8 gap-y-10 px-4 py-16 sm:px-6 md:grid-cols-3 lg:px-8"},z=e("div",null,[e("h2",{class:"text-base font-semibold leading-7 text-gray-900 dark:text-white"},"Libellé et Valeur Cible"),e("p",{class:"mt-1 text-sm leading-6 text-gray-400"},"Informations sur le libellé de l'objectif ainsi que la valeur cible.")],-1),F={class:"md:col-span-2"},I={class:"grid grid-cols-1 gap-x-6 gap-y-8 sm:max-w-xl sm:grid-cols-6"},A={class:"sm:col-span-full"},E={class:"relative mt-2"},G={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"},P={class:"sm:col-span-full"},Q={class:"relative mt-2"},Z={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"},H={class:"grid max-w-full grid-cols-1 gap-x-8 gap-y-10 px-4 py-16 sm:px-6 md:grid-cols-3 lg:px-8 border-t-2 dark:border-black"},J=e("div",null,[e("h2",{class:"text-base font-semibold leading-7 text-gray-900 dark:text-white"},"Disponibilité et Échéance"),e("p",{class:"mt-1 text-sm leading-6 text-gray-400"},"Les moyens pour atteindre l'objectif sont ils réunis ? Qu'elle sera l'échéance pour cette objectif. ")],-1),K={class:"md:col-span-2"},R={class:"grid grid-cols-1 gap-x-6 gap-y-8 sm:max-w-xl sm:grid-cols-6"},W={class:"sm:col-span-3"},X={class:"relative mt-2"},ee=["value"],te={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"},se={class:"sm:col-span-3"},ae={class:"mt-2"},le={class:"grid max-w-full grid-cols-1 gap-x-8 gap-y-10 px-4 py-16 sm:px-6 md:grid-cols-3 lg:px-8 border-t-2 dark:border-black"},ie=e("div",null,[e("h2",{class:"text-base font-semibold leading-7 text-gray-900 dark:text-white"},"Évaluation"),e("p",{class:"mt-1 text-sm leading-6 text-gray-400"},"Informations relatives à l'évaluation de cet objectif.")],-1),oe={class:"md:col-span-2"},re={class:"grid grid-cols-1 gap-x-6 gap-y-8 sm:max-w-xl sm:grid-cols-6"},de={class:"sm:col-span-3"},ne={class:"relative mt-2"},ce={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"},me={class:"sm:col-span-3"},ge={class:"relative mt-2"},ue={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"},_e={class:"mt-8 col-span-full"},pe={class:"relative mt-2"},xe={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"},fe={class:"grid max-w-full grid-cols-1 gap-x-8 gap-y-10 px-4 py-16 sm:px-6 md:grid-cols-2 lg:px-8 border-t-2 dark:border-black"},he=e("h2",{class:"text-base font-semibold leading-7 text-gray-900 dark:text-white"},"Suivi de l'objectif",-1),ve=e("p",{class:"mt-1 text-sm leading-6 text-gray-400"},"Faites le suivi de cet objectif renseignant le taux d'évaluation et en laissant un commentaire.",-1),be={class:"md:col-span-1"},ye={class:"grid grid-cols-1 gap-x-6 gap-y-8 sm:max-w-xl sm:grid-cols-6"},we={class:"col-span-full"},ke={class:"mt-2 flex rounded-md shadow-sm"},Ve=e("span",{class:"inline-flex items-center rounded-r-md border border-l-0 border-gray-300 px-3 text-gray-500 dark:text-gray-100 sm:text-sm"},"%",-1),je={class:"flex flex-col space-y-2"},$e={class:"col-span-full"},Me={class:"relative mt-2"},Ue={class:"flex items-center justify-between gap-x-6 border-t border-gray-900/10 px-4 py-4 sm:px-8"},He={__name:"SaveGoal",props:{goal:{type:Object,default:{}},history:{}},setup(l){const g=l,p=[{name:"Mes Objectifs",href:route("goals.index"),current:!1},{name:"Modifier",href:"#",current:!0}];let o;const u=()=>{o=v({comment:"",goal_rate:g.goal.goal_rate})},x=()=>{o.put(route("goals.update",{goal:g.goal.goal_id}),{onSuccess:()=>u(),preserveScroll:!0})};return u(),(qe,a)=>(f(),h(j,null,{default:r(()=>[t(s(b),{title:"Suivi Objectif"}),e("div",L,[t($,{pages:p}),T,e("form",{class:"mt-8 shadow ring-1 ring-black ring-opacity-5 sm:rounded-lg bg-white dark:bg-grayish",onSubmit:y(x,["prevent"])},[e("div",N,[z,e("div",F,[e("div",I,[e("div",A,[t(n,{for:"start_date",required:""},{default:r(()=>[d("Libelle")]),_:1}),e("div",E,[t(m,{modelValue:l.goal.goal_name,"onUpdate:modelValue":a[0]||(a[0]=i=>l.goal.goal_name=i),disabled:!0},null,8,["modelValue"]),e("div",G,[t(s(c),{"aria-hidden":"true",class:"h-5 w-5 text-gray-400"})])])]),e("div",P,[t(n,{for:"start_date",required:""},{default:r(()=>[d("Valeur Cible")]),_:1}),e("div",Q,[t(m,{modelValue:l.goal.goal_expected_result,"onUpdate:modelValue":a[1]||(a[1]=i=>l.goal.goal_expected_result=i),disabled:!0},null,8,["modelValue"]),e("div",Z,[t(s(c),{"aria-hidden":"true",class:"h-5 w-5 text-gray-400"})])])])])])]),e("div",H,[J,e("div",K,[e("div",R,[e("div",W,[t(n,{for:"start_date",required:""},{default:r(()=>[d("Échéance")]),_:1}),e("div",X,[e("input",{disabled:!0,value:s(q)(s(S)(l.goal.goal_expected_date).format("DD MMMM YYYY")),class:"bg-white dark:bg-grayish block w-full rounded-md border-0 py-1.5 text-gray-900 dark:text-white shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 dark:ring-2 placeholder:text-gray-400 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6"},null,8,ee),e("div",te,[t(s(c),{"aria-hidden":"true",class:"h-5 w-5 text-gray-400"})])])]),e("div",se,[e("div",ae,[t(C,{modelValue:l.goal.goal_means_available,"onUpdate:modelValue":a[2]||(a[2]=i=>l.goal.goal_means_available=i),disabled:!0,desc:"Les moyens pour accomplir cette objectif sont t-il disponible ?",label:"Disponibilité des moyens"},null,8,["modelValue"])])])])])]),e("div",le,[ie,e("div",oe,[e("div",re,[e("div",de,[t(n,null,{default:r(()=>[d("Année d'évaluation")]),_:1}),e("div",ne,[t(m,{modelValue:l.goal.phase.phase_year,"onUpdate:modelValue":a[3]||(a[3]=i=>l.goal.phase.phase_year=i),disabled:!0},null,8,["modelValue"]),e("div",ce,[t(s(c),{"aria-hidden":"true",class:"h-5 w-5 text-gray-400"})])])]),e("div",me,[t(n,null,{default:r(()=>[d("Période d'évaluation")]),_:1}),e("div",ge,[t(m,{modelValue:l.goal.period.evaluation_period_name,"onUpdate:modelValue":a[4]||(a[4]=i=>l.goal.period.evaluation_period_name=i),disabled:!0},null,8,["modelValue"]),e("div",ue,[t(s(c),{"aria-hidden":"true",class:"h-5 w-5 text-gray-400"})])])]),e("div",_e,[t(n,{for:"start_date",required:""},{default:r(()=>[d("Barème")]),_:1}),e("div",pe,[t(B,{modelValue:l.goal.goal_marking,"onUpdate:modelValue":a[5]||(a[5]=i=>l.goal.goal_marking=i),disabled:!0},null,8,["modelValue"]),e("div",xe,[t(s(c),{"aria-hidden":"true",class:"h-5 w-5 text-gray-400"})])])])])])]),e("div",fe,[e("div",null,[he,ve,t(O,{history:l.history},null,8,["history"])]),e("div",be,[e("div",ye,[e("div",we,[t(n,{for:"start_date",required:""},{default:r(()=>[d("Taux d'avancement")]),_:1}),e("div",ke,[w(e("input",{"onUpdate:modelValue":a[6]||(a[6]=i=>s(o).goal_rate=i),class:V([s(o).errors.goal_rate!==void 0?"focus:ring-red-400 ring-red-500":"focus:ring-cyan-600 ring-gray-300 dark:ring-gray-600","bg-white dark:bg-grayish block w-full min-w-0 flex-1 rounded-none rounded-l-md border-0 py-1.5 text-gray-900 dark:text-white ring-1 dark:ring-2 ring-inset placeholder:text-gray-400 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6"]),maxlength:"3",type:"number"},null,2),[[k,s(o).goal_rate]]),Ve]),e("div",je,[t(_,{message:s(o).errors.goal_rate},null,8,["message"])])]),e("div",$e,[t(n,{for:"start_date"},{default:r(()=>[d("Commentaire")]),_:1}),e("div",Me,[t(D,{modelValue:s(o).comment,"onUpdate:modelValue":a[7]||(a[7]=i=>s(o).comment=i),invalid:s(o).errors.comment!==void 0},null,8,["modelValue","invalid"])]),t(_,{message:s(o).errors.comment},null,8,["message"])])])])]),e("div",Ue,[t(M),t(U,{processing:s(o).processing},{default:r(()=>[d("Enregistrer")]),_:1},8,["processing"])])],40,Y)])]),_:1}))}};export{He as default};
