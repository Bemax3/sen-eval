import{_ as x}from"./AuthenticatedLayout-a2654eb8.js";import{b as w,r as D,o as t,d as f,e as l,f as s,u as y,Z as V,a as d,t as r,c as n,g as i,k as u,F as _,j as $}from"./app-589b6ab5.js";import{g as B,a as F}from"./helper-9d93711f.js";import{_ as m,a as c,b as N}from"./EmptyState-fbc63e87.js";import{_ as T}from"./Breadcrumbs-65bf6fa9.js";import{_ as j}from"./Datatable-9e7bd542.js";import{r as A}from"./ArrowDownTrayIcon-4230dc7c.js";import"./logo1637145113-c7398df9.js";const C={class:"px-4 sm:px-6 lg:px-8"},L={class:"sm:flex sm:items-center"},P={class:"sm:flex-auto"},S={class:"text-2xl font-semibold leading-6 text-gray-900 dark:text-white"},q={class:"mt-2 text-sm text-gray-700 dark:text-white"},E={key:0,class:"space-x-2 mt-4 sm:ml-16 sm:mt-0 sm:flex-none"},O=["href"],U={key:0,class:"min-w-full divide-y divide-gray-300 dark:divide-black"},Z={class:"bg-gray-50 dark:bg-grayish"},z={class:"divide-y divide-gray-200 dark:divide-black bg-white dark:bg-grayish"},G={key:1,class:"text-center bg-white dark:bg-grayish text-lg text-gray-600 py-4"},p="",X={__name:"TrainingsDetails",props:{trainings:{type:Object},phase:{},org:{},type:{}},setup(a){const o=a,v=[{name:"Statistiques",href:route("admin-dashboard.index",{org_id:o.org.org_id,phase_id:o.phase.phase_id}),current:!1},{name:"Détails des formations demandées",href:"#",current:!0}],b=w(()=>B(o.trainings)),g=D(o.trainings.data);return(k,h)=>(t(),f(x,null,{default:l(()=>[s(y(V),{title:"Agents"}),d("div",C,[s(T,{pages:v}),d("div",L,[d("div",P,[d("h1",S,'Formation en "'+r(a.type.training_type_name)+`" pour l'année `+r(a.phase.phase_year)+" "+r(a.org!==-1?" - "+a.org.org_name:""),1),d("p",q," La liste des formations demandées pour l'année "+r(a.phase.phase_year)+". ",1)]),g.value.length>0?(t(),n("div",E,[d("a",{href:k.route("admin-dashboard.download-trainings-details",{org_id:a.org.org_id,phase_id:a.phase.phase_id,type:a.type.training_type_id}),class:"inline-flex gap-x-1.5 rounded-md bg-cyan-600 px-3 py-2 text-center text-sm font-semibold text-white shadow-sm hover:bg-cyan-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-cyan-600"},[i(" Télécharger "),s(y(A),{class:"-mr-0.5 h-5 w-5"})],8,O)])):u("",!0)]),y(F)(a.trainings.data)?(t(),f(j,{key:0,modelValue:p,"onUpdate:modelValue":h[0]||(h[0]=e=>p=e),pagination:b.value,search:!1},{default:l(()=>[g.value.length>0?(t(),n("table",U,[d("thead",Z,[d("tr",null,[s(m,{first:!0},{default:l(()=>[i("Formation")]),_:1}),s(m,null,{default:l(()=>[i("Évalué")]),_:1}),s(m,null,{default:l(()=>[i("Évaluateur")]),_:1}),s(m,null,{default:l(()=>[i("Demandée par")]),_:1})])]),d("tbody",z,[(t(!0),n(_,null,$(g.value,e=>(t(),n("tr",{key:e.rating_training_id},[s(c,{first:!0,class:"whitespace-pre-line"},{default:l(()=>[i(r(a.type.training_type_name),1)]),_:1}),s(c,null,{default:l(()=>[i(r(e.rating.evaluated.user_display_name),1)]),_:2},1024),s(c,null,{default:l(()=>[i(r(e.rating.evaluator.user_display_name),1)]),_:2},1024),s(c,{class:"whitespace-pre-line"},{default:l(()=>[e.asked_by_evaluator&&!e.asked_by_evaluated?(t(),n(_,{key:0},[i(r(e.rating.evaluator.user_display_name),1)],64)):u("",!0),e.asked_by_evaluated&&!e.asked_by_evaluator?(t(),n(_,{key:1},[i(r(e.rating.evaluated.user_display_name),1)],64)):u("",!0),e.asked_by_evaluated&&e.asked_by_evaluator?(t(),n(_,{key:2},[i(r(e.rating.evaluated.user_display_name+" et "+e.rating.evaluator.user_display_name),1)],64)):u("",!0)]),_:2},1024)]))),128))])])):(t(),n("div",G," Aucun élément trouvé."))]),_:1},8,["pagination"])):(t(),f(N,{key:1,message:"Tous les agents ont été évalués",title:"Pas d'agent non évalué"}))])]),_:1}))}};export{X as default};
