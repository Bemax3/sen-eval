import{_ as x}from"./AuthenticatedLayout-b0b54744.js";import{b as w,r as L,o as a,d as g,e as l,f as t,u as h,Z as V,a as r,t as d,c as o,g as s,k as u,F as c,j as $}from"./app-c51809d2.js";import{g as B,a as D}from"./helper-f88ff6de.js";import{_ as m,a as _,b as F}from"./EmptyState-ab9bb41f.js";import{_ as N}from"./Breadcrumbs-6cd41b84.js";import{_ as T}from"./Datatable-33676cac.js";import{r as j}from"./ArrowDownTrayIcon-70e95d3e.js";import"./logo1637145113-c7398df9.js";const A={class:"px-4 sm:px-6 lg:px-8"},C={class:"sm:flex sm:items-center"},P={class:"sm:flex-auto"},S={class:"text-2xl font-semibold leading-6 text-gray-900 dark:text-white"},q={class:"mt-2 text-sm text-gray-700 dark:text-white"},E={key:0,class:"space-x-2 mt-4 sm:ml-16 sm:mt-0 sm:flex-none"},O=["href"],U={key:0,class:"min-w-full divide-y divide-gray-300 dark:divide-black"},Z={class:"bg-gray-50 dark:bg-grayish"},z={class:"divide-y divide-gray-200 dark:divide-black bg-white dark:bg-grayish"},G={key:1,class:"text-center bg-white dark:bg-grayish text-lg text-gray-600 py-4"},y="",X={__name:"TrainingsList",props:{trainings:{type:Object},phase:{},org:{}},setup(i){const n=i,v=[{name:"Statistiques",href:route("admin-dashboard.index",{org_id:n.org.org_id,phase_id:n.phase.phase_id}),current:!1},{name:"Liste des formations demandées",href:"#",current:!0}],b=w(()=>B(n.trainings)),f=L(n.trainings.data);return(k,p)=>(a(),g(x,null,{default:l(()=>[t(h(V),{title:"Agents"}),r("div",A,[t(N,{pages:v}),r("div",C,[r("div",P,[r("h1",S,"Formations demandées pour l'année "+d(i.phase.phase_year)+" "+d(i.org!==-1?" - "+i.org.org_name:""),1),r("p",q," La liste des formations demandées pour l'année "+d(i.phase.phase_year)+". ",1)]),f.value.length>0?(a(),o("div",E,[r("a",{href:k.route("admin-dashboard.download-all-trainings",{org_id:i.org.org_id,phase_id:i.phase.phase_id}),class:"inline-flex gap-x-1.5 rounded-md bg-cyan-600 px-3 py-2 text-center text-sm font-semibold text-white shadow-sm hover:bg-cyan-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-cyan-600"},[s(" Télécharger "),t(h(j),{class:"-mr-0.5 h-5 w-5"})],8,O)])):u("",!0)]),h(D)(i.trainings.data)?(a(),g(T,{key:0,modelValue:y,"onUpdate:modelValue":p[0]||(p[0]=e=>y=e),pagination:b.value,search:!1},{default:l(()=>[f.value.length>0?(a(),o("table",U,[r("thead",Z,[r("tr",null,[t(m,{first:!0},{default:l(()=>[s("Formation")]),_:1}),t(m,null,{default:l(()=>[s("Évalué")]),_:1}),t(m,null,{default:l(()=>[s("Évaluateur")]),_:1}),t(m,null,{default:l(()=>[s("Demandée par")]),_:1})])]),r("tbody",z,[(a(!0),o(c,null,$(f.value,e=>(a(),o("tr",{key:e.rating_training_id},[t(_,{first:!0,class:"whitespace-pre-line"},{default:l(()=>[s(d(e.type.training_type_name),1)]),_:2},1024),t(_,null,{default:l(()=>[s(d(e.rating.evaluated.user_display_name),1)]),_:2},1024),t(_,null,{default:l(()=>[s(d(e.rating.evaluator.user_display_name),1)]),_:2},1024),t(_,{class:"whitespace-pre-line"},{default:l(()=>[e.asked_by_evaluator&&!e.asked_by_evaluated?(a(),o(c,{key:0},[s(" L'évaluateur ")],64)):u("",!0),e.asked_by_evaluated&&!e.asked_by_evaluator?(a(),o(c,{key:1},[s(" L'évalué ")],64)):u("",!0),e.asked_by_evaluated&&e.asked_by_evaluator?(a(),o(c,{key:2},[s(" L'évaluateur et l'évalué ")],64)):u("",!0)]),_:2},1024)]))),128))])])):(a(),o("div",G," Aucun élément trouvé."))]),_:1},8,["pagination"])):(a(),g(F,{key:1,message:"Tous les agents ont été évalués",title:"Pas d'agent non évalué"}))])]),_:1}))}};export{X as default};
