import{_ as b}from"./AuthenticatedLayout-60aabe79.js";import{b as x,r as w,o as a,d as c,e as t,f as s,u as y,Z as V,a as d,t as l,c as i,g as r,F as u,j as $,k as g}from"./app-97f24108.js";import{g as B,a as D}from"./helper-00cc7808.js";import{_,a as m,b as N}from"./EmptyState-e29df9ce.js";import{_ as F}from"./Breadcrumbs-128d3fe8.js";import{_ as L}from"./Datatable-bd1675da.js";import"./logo1637145113-c7398df9.js";const T={class:"px-4 sm:px-6 lg:px-8"},j={class:"sm:flex sm:items-center"},A={class:"sm:flex-auto"},C={class:"text-2xl font-semibold leading-6 text-gray-900 dark:text-white"},P={class:"mt-2 text-sm text-gray-700 dark:text-white"},S={key:0,class:"min-w-full divide-y divide-gray-300 dark:divide-black"},q={class:"bg-gray-50 dark:bg-grayish"},E={class:"divide-y divide-gray-200 dark:divide-black bg-white dark:bg-grayish"},O={key:1,class:"text-center bg-white dark:bg-grayish text-lg text-gray-600 py-4"},h="",M={__name:"TrainingsList",props:{trainings:{type:Object},phase:{},org:{}},setup(o){const n=o,v=[{name:"Statistiques",href:route("admin-dashboard.index",{org_id:n.org.org_id,phase_id:n.phase.phase_id}),current:!1},{name:"Détails des formations demandées",href:"#",current:!0}],k=x(()=>B(n.trainings)),p=w(n.trainings.data);return(U,f)=>(a(),c(b,null,{default:t(()=>[s(y(V),{title:"Agents"}),d("div",T,[s(F,{pages:v}),d("div",j,[d("div",A,[d("h1",C,"Besoin de formation pour l'année "+l(o.phase.phase_year)+" "+l(o.org!==-1?" - "+o.org.org_name:""),1),d("p",P," La liste des formations demandées pour l'année "+l(o.phase.phase_year)+". ",1)])]),y(D)(o.trainings.data)?(a(),c(L,{key:0,modelValue:h,"onUpdate:modelValue":f[0]||(f[0]=e=>h=e),pagination:k.value,search:!1},{default:t(()=>[p.value.length>0?(a(),i("table",S,[d("thead",q,[d("tr",null,[s(_,{first:!0},{default:t(()=>[r("Formation")]),_:1}),s(_,null,{default:t(()=>[r("Évalué")]),_:1}),s(_,null,{default:t(()=>[r("Évaluateur")]),_:1}),s(_,null,{default:t(()=>[r("Demandée par")]),_:1})])]),d("tbody",E,[(a(!0),i(u,null,$(p.value,e=>(a(),i("tr",{key:e.rating_training_id},[s(m,{first:!0,class:"whitespace-pre-line"},{default:t(()=>[r(l(e.type.training_type_name),1)]),_:2},1024),s(m,null,{default:t(()=>[r(l(e.rating.evaluated.user_display_name),1)]),_:2},1024),s(m,null,{default:t(()=>[r(l(e.rating.evaluator.user_display_name),1)]),_:2},1024),s(m,{class:"whitespace-pre-line"},{default:t(()=>[e.asked_by_evaluator&&!e.asked_by_evaluated?(a(),i(u,{key:0},[r(l(e.rating.evaluator.user_display_name),1)],64)):g("",!0),e.asked_by_evaluated&&!e.asked_by_evaluator?(a(),i(u,{key:1},[r(l(e.rating.evaluated.user_display_name),1)],64)):g("",!0),e.asked_by_evaluated&&e.asked_by_evaluator?(a(),i(u,{key:2},[r(l(e.rating.evaluated.user_display_name+" et "+e.rating.evaluator.user_display_name),1)],64)):g("",!0)]),_:2},1024)]))),128))])])):(a(),i("div",O," Aucun élément trouvé."))]),_:1},8,["pagination"])):(a(),c(N,{key:1,message:"Tous les agents ont été évalués",title:"Pas d'agent non évalué"}))])]),_:1}))}};export{M as default};
