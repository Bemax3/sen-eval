import{t as C,H as y,M as F,e as A,o as G,A as H,K as R,B as I,T as M,E as N,j as g}from"./helper-18252d35.js";import{r as S,C as L,b as d,z as k,I as E,J as z,u as J,N as j,w as U,H as w,F as Y}from"./app-2a089cf5.js";import{d as q,p as Q}from"./use-controllable-595812ac.js";let x=Symbol("LabelContext");function $(){let t=j(x,null);if(t===null){let n=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,$),n}return t}function W({slot:t={},name:n="Label",props:o={}}={}){let l=S([]);function i(r){return l.value.push(r),()=>{let a=l.value.indexOf(r);a!==-1&&l.value.splice(a,1)}}return L(x,{register:i,slot:t,name:n,props:o}),d(()=>l.value.length>0?l.value.join(" "):void 0)}let X=k({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-label-${C()}`}},setup(t,{slots:n,attrs:o}){let l=$();return E(()=>z(l.register(t.id))),()=>{let{name:i="Label",slot:r={},props:a={}}=l,{id:p,passive:c,...m}=t,u={...Object.entries(a).reduce((f,[b,h])=>Object.assign(f,{[b]:J(h)}),{}),id:p};return c&&(delete u.onClick,delete u.htmlFor,delete m.onClick),y({ourProps:u,theirProps:m,slot:r,attrs:o,slots:n,name:i})}}}),O=Symbol("GroupContext"),te=k({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup(t,{slots:n,attrs:o}){let l=S(null),i=W({name:"SwitchLabel",props:{htmlFor:d(()=>{var a;return(a=l.value)==null?void 0:a.id}),onClick(a){l.value&&(a.currentTarget.tagName==="LABEL"&&a.preventDefault(),l.value.click(),l.value.focus({preventScroll:!0}))}}}),r=F({name:"SwitchDescription"});return L(O,{switchRef:l,labelledby:i,describedby:r}),()=>y({theirProps:t,ourProps:{},slot:{},slots:n,attrs:o,name:"SwitchGroup"})}}),le=k({name:"Switch",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-switch-${C()}`}},inheritAttrs:!1,setup(t,{emit:n,attrs:o,slots:l,expose:i}){let r=j(O,null),[a,p]=q(d(()=>t.modelValue),e=>n("update:modelValue",e),d(()=>t.defaultChecked));function c(){p(!a.value)}let m=S(null),u=r===null?m:r.switchRef,f=A(d(()=>({as:t.as,type:o.type})),u);i({el:u,$el:u});function b(e){e.preventDefault(),c()}function h(e){e.key===g.Space?(e.preventDefault(),c()):e.key===g.Enter&&Q(e.currentTarget)}function T(e){e.preventDefault()}let v=d(()=>{var e,s;return(s=(e=G(u))==null?void 0:e.closest)==null?void 0:s.call(e,"form")});return E(()=>{U([v],()=>{if(!v.value||t.defaultChecked===void 0)return;function e(){p(t.defaultChecked)}return v.value.addEventListener("reset",e),()=>{var s;(s=v.value)==null||s.removeEventListener("reset",e)}},{immediate:!0})}),()=>{let{id:e,name:s,value:D,form:K,...P}=t,B={checked:a.value},V={id:e,ref:u,role:"switch",type:f.value,tabIndex:0,"aria-checked":a.value,"aria-labelledby":r==null?void 0:r.labelledby.value,"aria-describedby":r==null?void 0:r.describedby.value,onClick:b,onKeyup:h,onKeypress:T};return w(Y,[s!=null&&a.value!=null?w(H,R({features:I.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:a.value,form:K,name:s,value:D})):null,y({ourProps:V,theirProps:{...o,...M(P,["modelValue","defaultChecked"])},slot:B,attrs:o,slots:l,name:"Switch"})])}}}),ae=X,re=N;export{te as a,re as c,ae as d,le as u};
